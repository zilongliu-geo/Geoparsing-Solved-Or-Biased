<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([53.33306,-6.24889], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([53.33306,-6.24889],
			  {
			      title: "Dublin",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([32.54044,-82.90375],
			  {
			      title: "Dublin",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([40.09923,-83.11408],
			  {
			      title: "Dublin",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([37.70215,-121.93579],
			  {
			      title: "Dublin",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([36.72534,-88.80228],
			  {
			      title: "Dublin",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([37.10568,-80.68534],
			  {
			      title: "Dublin",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([34.07233,-90.49065],
			  {
			      title: "Dublin",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([39.81227,-85.20885],
			  {
			      title: "Dublin",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([34.65684,-78.72641],
			  {
			      title: "Dublin",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([28.78944,-81.62674],
			  {
			      title: "Dublin",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([39.65094,-76.26662],
			  {
			      title: "Dublin",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([-34.45,138.35],
			  {
			      title: "Dublin",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([42.90758,-72.06258],
			  {
			      title: "Dublin",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([40.37177,-75.20156],
			  {
			      title: "Dublin",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([32.08514,-98.34199],
			  {
			      title: "Dublin",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([42.99479,-76.92219],
			  {
			      title: "Dublin",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([51.735,30.328],
			  {
			      title: "Dublin",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([8.13746,-13.1927],
			  {
			      title: "Dublin",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([47.11678,-81.64978],
			  {
			      title: "Dublin",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([48.937,-87.92191],
			  {
			      title: "Dublin",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Dublin"] = marker;
  
    var marker = L.marker([34.8773,-85.25912],
			  {
			      title: "Red Belt",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Red Belt"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>
     <span onClick="goto_name('Dublin')" class="loc">Dublin</span> students getting a kick out of Martial Arts classes. Students from several <span onClick="goto_name('Dublin')" class="loc">Dublin</span> elementary schools don't have to rely on action television shows to get a dose of martial arts before school in the morning. Instead they come to school early to study with Master Greg Fears, a retired police officer and veteran competitor on the world martial arts stage. Fears teaches children and adults at the Ernie Reyes' World Martial Arts School in Carriage Place, but he said coming to the schools to work with students is a welcome addition. "It's refreshing -- just to know that you can have an impact in their lives," he said. Fears' classes at Glacier Ridge, Deer Run and Thomas elementary schools emphasize more than kicks and punches. He also tries to reinforce what parents are teaching their kids, he said, including respect and life skills. "When you hear it from more than one person, it ends up sinking in," he said. Glacier Ridge third-grader Adam Alkire said Fears taught his class "that we're to help people and not start fights. "Alkire just completed his third four-week session with Fears and earned his Little Dragon <span onClick="goto_name('Red Belt')" class="loc">Red Belt</span>. Allison Jennings is also a third-grader at Glacier Ridge. She said Fears taught her and her classmates that respect and concentration are important. Jennings put her concentration to good use to break a board into three pieces with her hand at the conclusion of the final class. "I was, like, amazed," she said about the two breaks she made in the board. Each of the 18 students in the Glacier Ridge class took on -- and broke -- the board, with family members looking on and classmates watching in respectful silence. Fears said each student had to choose whether or not to try to break the board. "You feel more confident that you've overcome that obstacle," he said. "The point is not to see if you can break the board," he told students. "The point is to empower yourself. "Students kept the pieces of their broken boards, as well as their new colored belts. The martial arts clubs are open to elementary school students of all ages, said Heather Heinz, the Glacier Ridge PTO martial arts coordinator. Glacier Ridge offers the program twice per year. The club helps students by introducing them to the world of martial arts, providing a means of self-defense and developing self-confidence and character, Heinz said. It also offers physical benefits, including enhancing conditioning, flexibility, agility and coordination, she said. Fears said the Thomas club still had three weeks remaining in its current session, and then the clubs will be finished for the current school year.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Dublin</th>
       <td best="true">
        <a onClick="goto(53.33306,-6.24889)">
         <span style="white-space:nowrap">53.333,-6.249</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.54044,-82.90375)">
         <span style="white-space:nowrap">32.540,-82.904</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.09923,-83.11408)">
         <span style="white-space:nowrap">40.099,-83.114</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.70215,-121.93579)">
         <span style="white-space:nowrap">37.702,-121.936</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.72534,-88.80228)">
         <span style="white-space:nowrap">36.725,-88.802</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.10568,-80.68534)">
         <span style="white-space:nowrap">37.106,-80.685</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.07233,-90.49065)">
         <span style="white-space:nowrap">34.072,-90.491</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.81227,-85.20885)">
         <span style="white-space:nowrap">39.812,-85.209</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.65684,-78.72641)">
         <span style="white-space:nowrap">34.657,-78.726</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(28.78944,-81.62674)">
         <span style="white-space:nowrap">28.789,-81.627</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.65094,-76.26662)">
         <span style="white-space:nowrap">39.651,-76.267</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-34.45,138.35)">
         <span style="white-space:nowrap">-34.450,138.350</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.90758,-72.06258)">
         <span style="white-space:nowrap">42.908,-72.063</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.37177,-75.20156)">
         <span style="white-space:nowrap">40.372,-75.202</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.08514,-98.34199)">
         <span style="white-space:nowrap">32.085,-98.342</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.99479,-76.92219)">
         <span style="white-space:nowrap">42.995,-76.922</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(51.735,30.328)">
         <span style="white-space:nowrap">51.735,30.328</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(8.13746,-13.1927)">
         <span style="white-space:nowrap">8.137,-13.193</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(47.11678,-81.64978)">
         <span style="white-space:nowrap">47.117,-81.650</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(48.937,-87.92191)">
         <span style="white-space:nowrap">48.937,-87.922</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Red Belt</th>
       <td best="true">
        <a onClick="goto(34.8773,-85.25912)">
         <span style="white-space:nowrap">34.877,-85.259</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
