<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([40.9126,-73.83708], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([40.9126,-73.83708],
			  {
			      title: "Mount Vernon",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([48.42122,-122.33405],
			  {
			      title: "Mount Vernon",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([40.29174,-79.81088],
			  {
			      title: "Mount Vernon",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([38.71412,-77.10082],
			  {
			      title: "Mount Vernon",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([38.2454,-75.8216],
			  {
			      title: "Mount Vernon",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([39.29761,-76.6158],
			  {
			      title: "Mount Vernon",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([31.08518,-88.01333],
			  {
			      title: "Mount Vernon",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([35.22647,-92.12404],
			  {
			      title: "Mount Vernon",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([1.33583,103.8975],
			  {
			      title: "Mount Vernon",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([-29.8941,30.9279],
			  {
			      title: "Mount Vernon",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([37.10367,-93.81854],
			  {
			      title: "Mount Vernon",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([43.71054,-98.26036],
			  {
			      title: "Mount Vernon",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([42.89453,-71.67424],
			  {
			      title: "Mont Vernon",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([44.50118,-69.98756],
			  {
			      title: "Mount Vernon",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([42.94694,-89.65596],
			  {
			      title: "Mount Vernon",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([44.41765,-119.11357],
			  {
			      title: "Mount Vernon",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([-33.86036,150.81007],
			  {
			      title: "Mount Vernon",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([-32.78625,119.2512],
			  {
			      title: "Mount Vernon",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([35.69718,-119.96625],
			  {
			      title: "Mount Vernon",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([6.95967,80.62028],
			  {
			      title: "Mount Vernon",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Mount Vernon"] = marker;
  
    var marker = L.marker([31.5082,34.45641],
			  {
			      title: "Al Ghurfah at Tijārīyah",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Chamber of Commerce"] = marker;
  
    var marker = L.marker([35.31678,-82.45817],
			  {
			      title: "Chamber of Commerce",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Chamber of Commerce"] = marker;
  
    var marker = L.marker([25.72649,-80.24116],
			  {
			      title: "Chamber of Commerce",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Chamber of Commerce"] = marker;
  
    var marker = L.marker([25.35926,55.38638],
			  {
			      title: "Chamber of Commerce",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Chamber of Commerce"] = marker;
  
    var marker = L.marker([25.26406,55.3132],
			  {
			      title: "Ghurfah Tijārah wa Şinā‘at Dubayy",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Chamber of Commerce"] = marker;
  
    var marker = L.marker([31.8542,35.45585],
			  {
			      title: "Al Ghurfah at Tijārīyah",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Chamber of Commerce"] = marker;
  
    var marker = L.marker([31.71269,35.20315],
			  {
			      title: "Al Ghurfah at Tijārīyah",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Chamber of Commerce"] = marker;
  
    var marker = L.marker([32.22227,35.26233],
			  {
			      title: "Al Ghurfah at Tijārīyah",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Chamber of Commerce"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>
     <span onClick="goto_name('Mount Vernon')" class="loc">Mount Vernon</span> chamber holds annual banquet. The <span onClick="goto_name('Mount Vernon')" class="loc">Mount Vernon</span> <span onClick="goto_name('Chamber of Commerce')" class="loc">Chamber of Commerce</span> held its annual membership and awards banquet Saturday night. Using a theme of "Let the Magic Begin", the evening featured entertainment by magician Daryl Miller and the presentation of annual recognitions. Rusty Rutledge was honored as Man of the Year, and Marilyn Elbert was honored as Woman of the Year. June Carr was inducted into the Hall of Fame, and Charles Cannon was recognized as Agriculturalist of the Year. Mayor and Chamber of Commerce President J.D. Baumgardner gave the welcome and did the introductions for the event, which was held at the First United Methodist Church Family Life Center.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Mount Vernon</th>
       <td best="true">
        <a onClick="goto(40.9126,-73.83708)">
         <span style="white-space:nowrap">40.913,-73.837</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(48.42122,-122.33405)">
         <span style="white-space:nowrap">48.421,-122.334</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.29174,-79.81088)">
         <span style="white-space:nowrap">40.292,-79.811</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.71412,-77.10082)">
         <span style="white-space:nowrap">38.714,-77.101</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.2454,-75.8216)">
         <span style="white-space:nowrap">38.245,-75.822</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.29761,-76.6158)">
         <span style="white-space:nowrap">39.298,-76.616</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(31.08518,-88.01333)">
         <span style="white-space:nowrap">31.085,-88.013</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.22647,-92.12404)">
         <span style="white-space:nowrap">35.226,-92.124</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(1.33583,103.8975)">
         <span style="white-space:nowrap">1.336,103.897</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-29.8941,30.9279)">
         <span style="white-space:nowrap">-29.894,30.928</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.10367,-93.81854)">
         <span style="white-space:nowrap">37.104,-93.819</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.71054,-98.26036)">
         <span style="white-space:nowrap">43.711,-98.260</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.89453,-71.67424)">
         <span style="white-space:nowrap">42.895,-71.674</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.50118,-69.98756)">
         <span style="white-space:nowrap">44.501,-69.988</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.94694,-89.65596)">
         <span style="white-space:nowrap">42.947,-89.656</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.41765,-119.11357)">
         <span style="white-space:nowrap">44.418,-119.114</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.86036,150.81007)">
         <span style="white-space:nowrap">-33.860,150.810</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-32.78625,119.2512)">
         <span style="white-space:nowrap">-32.786,119.251</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.69718,-119.96625)">
         <span style="white-space:nowrap">35.697,-119.966</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(6.95967,80.62028)">
         <span style="white-space:nowrap">6.960,80.620</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Chamber of Commerce</th>
       <td best="true">
        <a onClick="goto(31.5082,34.45641)">
         <span style="white-space:nowrap">31.508,34.456</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.31678,-82.45817)">
         <span style="white-space:nowrap">35.317,-82.458</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(25.72649,-80.24116)">
         <span style="white-space:nowrap">25.726,-80.241</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(25.35926,55.38638)">
         <span style="white-space:nowrap">25.359,55.386</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(25.26406,55.3132)">
         <span style="white-space:nowrap">25.264,55.313</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(31.8542,35.45585)">
         <span style="white-space:nowrap">31.854,35.456</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(31.71269,35.20315)">
         <span style="white-space:nowrap">31.713,35.203</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.22227,35.26233)">
         <span style="white-space:nowrap">32.222,35.262</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
