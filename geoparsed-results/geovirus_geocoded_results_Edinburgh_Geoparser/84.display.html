<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([1,38], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([1,38],
			  {
			      title: "Kenya",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([-10.06667,26.31667],
			  {
			      title: "Kenya",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([-11.69746,27.4814],
			  {
			      title: "Kenya",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([-4.17026,29.07557],
			  {
			      title: "Kenya",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([5.9,0.48333],
			  {
			      title: "Kenya",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([12.7,-7.75],
			  {
			      title: "Kénya",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([-0.15,37.3],
			  {
			      title: "Mount Kenya",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([-11.69712,27.47951],
			  {
			      title: "Kenya",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([12.69847,75.50496],
			  {
			      title: "Kenya",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([3.55777,31.43955],
			  {
			      title: "Kena",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([3.02697,30.90481],
			  {
			      title: "Kenya",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([3.44283,30.80192],
			  {
			      title: "Kenya",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([-23.8,30.35],
			  {
			      title: "Kenya",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([-17.73574,32.45999],
			  {
			      title: "Kenya",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([-26.99476,150.48133],
			  {
			      title: "Kenya",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([24.46597,54.35203],
			  {
			      title: "Kīnyā",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([-43.97834,171.69011],
			  {
			      title: "Kenya",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([-22.55,144.25],
			  {
			      title: "Kenya",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Kenya"] = marker;
  
    var marker = L.marker([-1.28333,36.81667],
			  {
			      title: "Nairobi",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Nairobi"] = marker;
  
    var marker = L.marker([-1.28333,36.83333],
			  {
			      title: "Nairobi",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Nairobi"] = marker;
  
    var marker = L.marker([-1.19977,37.15705],
			  {
			      title: "Nairobi",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Nairobi"] = marker;
  
    var marker = L.marker([-1.29,36.82],
			  {
			      title: "Nairobi District",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Nairobi"] = marker;
  
    var marker = L.marker([-0.44749,37.04252],
			  {
			      title: "Nairobi",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Nairobi"] = marker;
  
    var marker = L.marker([-4.95,38.93333],
			  {
			      title: "Nairobi",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Nairobi"] = marker;
  
    var marker = L.marker([-1.46438,28.09918],
			  {
			      title: "Nairobi",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Nairobi"] = marker;
  
    var marker = L.marker([-1.108,34.53455],
			  {
			      title: "Nyairobi",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Nairobi"] = marker;
  
    var marker = L.marker([-22.72657,30.0791],
			  {
			      title: "Nairobi",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Nairobi"] = marker;
  
    var marker = L.marker([-9.4,39.4],
			  {
			      title: "Njenja",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Njenga district"] = marker;
  
    var marker = L.marker([-13.62522,25.78118],
			  {
			      title: "Njenga",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Njenga district"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Health officials have said that at least nine people were killed and over sixty remain in critical condition on Saturday after an outbreak of cholera in a slum in <span onClick="goto_name('Kenya')" class="loc">Kenya</span>'s capital <span onClick="goto_name('Nairobi')" class="loc">Nairobi</span>. A mission hospital in the Mukuru kwa <span onClick="goto_name('Njenga district')" class="loc">Njenga district</span> of <span onClick="goto_name('Nairobi')" class="loc">Nairobi</span> said that the first cases had been reported on Monday, but had increased substantially by Friday. "We have so far recorded nine deaths from the Mukuru slums in <span onClick="goto_name('Nairobi')" class="loc">Nairobi</span> and some of them might have also died at home and so we believe this number is very conservative because it is not accounting for home deaths," said a physician at the Kenyatta National Hospital. The outbreak has been blamed on poor sanitation and low levels of hygiene. Community health worker Peninah Nzuki told the Daily Nation news agency that “the water is dirty and the levels of hygiene are poor, thus the disease is spreading fast." Officials, however, have warned that the true death toll may be higher than indicated, as some people might have died before reaching hospitals.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Kenya</th>
       <td best="true">
        <a onClick="goto(1,38)">
         <span style="white-space:nowrap">1.000,38.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-10.06667,26.31667)">
         <span style="white-space:nowrap">-10.067,26.317</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-11.69746,27.4814)">
         <span style="white-space:nowrap">-11.697,27.481</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-4.17026,29.07557)">
         <span style="white-space:nowrap">-4.170,29.076</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(5.9,0.48333)">
         <span style="white-space:nowrap">5.900,0.483</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(12.7,-7.75)">
         <span style="white-space:nowrap">12.700,-7.750</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-0.15,37.3)">
         <span style="white-space:nowrap">-0.150,37.300</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-11.69712,27.47951)">
         <span style="white-space:nowrap">-11.697,27.480</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(12.69847,75.50496)">
         <span style="white-space:nowrap">12.698,75.505</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(3.55777,31.43955)">
         <span style="white-space:nowrap">3.558,31.440</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(3.02697,30.90481)">
         <span style="white-space:nowrap">3.027,30.905</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(3.44283,30.80192)">
         <span style="white-space:nowrap">3.443,30.802</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-23.8,30.35)">
         <span style="white-space:nowrap">-23.800,30.350</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-17.73574,32.45999)">
         <span style="white-space:nowrap">-17.736,32.460</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-26.99476,150.48133)">
         <span style="white-space:nowrap">-26.995,150.481</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(24.46597,54.35203)">
         <span style="white-space:nowrap">24.466,54.352</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-43.97834,171.69011)">
         <span style="white-space:nowrap">-43.978,171.690</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-22.55,144.25)">
         <span style="white-space:nowrap">-22.550,144.250</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Nairobi</th>
       <td best="true">
        <a onClick="goto(-1.28333,36.81667)">
         <span style="white-space:nowrap">-1.283,36.817</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-1.28333,36.83333)">
         <span style="white-space:nowrap">-1.283,36.833</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-1.19977,37.15705)">
         <span style="white-space:nowrap">-1.200,37.157</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-1.29,36.82)">
         <span style="white-space:nowrap">-1.290,36.820</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-0.44749,37.04252)">
         <span style="white-space:nowrap">-0.447,37.043</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-4.95,38.93333)">
         <span style="white-space:nowrap">-4.950,38.933</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-1.46438,28.09918)">
         <span style="white-space:nowrap">-1.464,28.099</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-1.108,34.53455)">
         <span style="white-space:nowrap">-1.108,34.535</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-22.72657,30.0791)">
         <span style="white-space:nowrap">-22.727,30.079</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Njenga district</th>
       <td best="true">
        <a onClick="goto(-9.4,39.4)">
         <span style="white-space:nowrap">-9.400,39.400</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-13.62522,25.78118)">
         <span style="white-space:nowrap">-13.625,25.781</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
