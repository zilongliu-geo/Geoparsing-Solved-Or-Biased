<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([45.54038,-73.89279], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([45.54038,-73.89279],
			  {
			      title: "Holy Family",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Holy Family"] = marker;
  
    var marker = L.marker([45.55008,-73.65998],
			  {
			      title: "Holy Family",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Holy Family"] = marker;
  
    var marker = L.marker([46.13243,-112.95421],
			  {
			      title: "Holy Family",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Holy Family"] = marker;
  
    var marker = L.marker([33.64067,73.05751],
			  {
			      title: "Holy Family",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Holy Family"] = marker;
  
    var marker = L.marker([-24.13333,30.36667],
			  {
			      title: "Holy Family",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Holy Family"] = marker;
  
    var marker = L.marker([51.50853,-0.12574],
			  {
			      title: "London",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([42.98339,-81.23304],
			  {
			      title: "London",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([40.91033,-82.62934],
			  {
			      title: "London",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([39.88645,-83.44825],
			  {
			      title: "London",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([38.19455,-81.36872],
			  {
			      title: "London",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([39.6256,-85.92026],
			  {
			      title: "London",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([43.04778,-89.01289],
			  {
			      title: "London",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([37.12898,-84.08326],
			  {
			      title: "London",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([43.08339,-81.29975],
			  {
			      title: "London",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([43.52607,-93.0627],
			  {
			      title: "London",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([2.26815,9.78934],
			  {
			      title: "London",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([8.31068,-10.78731],
			  {
			      title: "London",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([30.67685,-99.57645],
			  {
			      title: "London",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([35.32897,-93.25296],
			  {
			      title: "London",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([1.98487,-157.47502],
			  {
			      title: "London Village",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([36.47606,-119.44318],
			  {
			      title: "London",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([6.00972,125.12944],
			  {
			      title: "London",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([32.23099,-94.94438],
			  {
			      title: "London",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([-24.81927,31.04765],
			  {
			      title: "London",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([51.49227,-0.30864],
			  {
			      title: "Central London",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["London District"] = marker;
  
    var marker = L.marker([43.31679,-80.83302],
			  {
			      title: "Tavistock",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([39.87622,-75.02961],
			  {
			      title: "Tavistock",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([39.80567,-75.55798],
			  {
			      title: "Tavistock",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([50.54944,-4.14418],
			  {
			      title: "Tavistock",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([50.55337,-4.1396],
			  {
			      title: "Tavistock",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([-33.22243,119.80273],
			  {
			      title: "Tavistock",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([-43.87833,171.5001],
			  {
			      title: "Tavistock",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([-26.31944,23.97252],
			  {
			      title: "Tavistock",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([-32.55,27.21667],
			  {
			      title: "Tavistock",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([51.5242,-0.1283],
			  {
			      title: "Tavistock",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([-38.04807,141.81411],
			  {
			      title: "Tavistock",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([-29.53629,29.48903],
			  {
			      title: "Tavistock",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Tavistock"] = marker;
  
    var marker = L.marker([43.30794,-80.61618],
			  {
			      title: "Plattsville",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Plattsville"] = marker;
  
    var marker = L.marker([40.74316,-73.69319],
			  {
			      title: "North New Hyde Park",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Plattsville"] = marker;
  
    var marker = L.marker([40.69229,-78.74586],
			  {
			      title: "Plattsville",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Plattsville"] = marker;
  
    var marker = L.marker([41.22287,-73.25623],
			  {
			      title: "Plattsville",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Plattsville"] = marker;
  
    var marker = L.marker([41.22843,-73.219],
			  {
			      title: "Ox Hill",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Plattsville"] = marker;
  
    var marker = L.marker([40.23227,-84.07744],
			  {
			      title: "Plattsville",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Plattsville"] = marker;
  
    var marker = L.marker([42.31474,-88.4487],
			  {
			      title: "Woodstock",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([34.10149,-84.51938],
			  {
			      title: "Woodstock",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([40.99538,-74.52599],
			  {
			      title: "Woodstock",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([40.17395,-83.52743],
			  {
			      title: "Woodstock",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([39.32872,-76.87192],
			  {
			      title: "Woodstock",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([38.88178,-78.50584],
			  {
			      title: "Woodstock",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([41.94843,-71.97396],
			  {
			      title: "Woodstock",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([43.97757,-71.68508],
			  {
			      title: "Woodstock",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([44.37494,-70.60849],
			  {
			      title: "Woodstock",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([43.47248,-90.42735],
			  {
			      title: "Woodstock",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([44.00913,-96.10058],
			  {
			      title: "Woodstock",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([33.20678,-87.15],
			  {
			      title: "Woodstock",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([-33.74457,148.84892],
			  {
			      title: "Woodstock",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([-37.55,145.03333],
			  {
			      title: "Woodstock",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([-19.6,146.83333],
			  {
			      title: "Woodstock",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([49.96666,-55.88146],
			  {
			      title: "Woodstock",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([51.93,-8.24944],
			  {
			      title: "Woodstock",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([-42.75829,171.00013],
			  {
			      title: "Woodstock",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([-41.25826,172.82017],
			  {
			      title: "Woodstock",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Woodstock"] = marker;
  
    var marker = L.marker([47.53319,-52.89806],
			  {
			      title: "Woodstock",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Woodstock"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Mom livid at unsafe length of child's bus ride. Tina Vehof consoles her youngest son Joshua, 4, as they walk up their rural laneway, his tears contrasting the boundless energy of his three older siblings running up ahead. The four children, bubbling with emotion, have just gotten off their school bus after a long day that started shortly before 7 a.m., when Tina woke them to get dressed for their bus to school some nine hours earlier. "I got them to bed at a good time last night, but this is what happens," Vehof explained. Vehof is livid at the unsafe length of their morning bus ride and frustrated no one in either the busing consortium or the Catholic school board has responded to her concerns. This scene of wound, wired energy and frustration plays itself out almost daily as the kids arrive home from being cooped up on the bus and at school all day. Despite the 40-plus minutes they've just spent on the bus now, the children are picked up for the ride to school between 7:15 and 7:30 a.m. They don't arrive at <span onClick="goto_name('Holy Family')" class="loc">Holy Family</span> Catholic French Immersion School until almost 9 a.m., putting their morning bus commute well above the 70-minute maximum time in their school board's transportation policy. "The children can't cope with these times," Tina Vehof said. "I can see they're suffering because of it. They're always tired and their anxiety level is high." Vehof said the March break provided respite from this schedule and that in the few days after school resumed last week she again noticed her children's fatigue and anxiety levels rising. Vehof is upset her complaints to the <span onClick="goto_name('London District')" class="loc">London District</span> Catholic School Board and its Southwestern Ontario Student Transportation Services consortium haven't been resolved. She said she has been following the proper complaint procedure, first approaching her children's principal, and then e-mailing a letter to the consortium. Her letter is one of five sent by families whose 11 children are on the route, with drop-offs at <span onClick="goto_name('Holy Family')" class="loc">Holy Family</span>, St. Michael's Catholic School and St. Mary's High School. "Children simply cannot tolerate the extended hours on a bus," Vehof's letter read. "There (have) been numerous incidents of unacceptable behaviour already reported (slashing bus seats, burning shoes on the bus and much more), done by the high school children. "Children are tired, irritable and overall are not able to cope." One of the other letters explained how the route originates in <span onClick="goto_name('Tavistock')" class="loc">Tavistock</span> before picking up several students in the vicinity of the 16th Line of East Zorra-Tavistock and Oxford Road 5 -- the Vehofs live in this area -- before heading through Bright and onto <span onClick="goto_name('Plattsville')" class="loc">Plattsville</span>. St. Mary's students are dropped off first in <span onClick="goto_name('Woodstock')" class="loc">Woodstock</span>, followed by <span onClick="goto_name('Holy Family')" class="loc">Holy Family</span> students and lastly St. Michael's pupils. Student Transportation Services general manager Maureen Heath explained in an e-mail Monday she was aware of the concern with this bus route, attributing conditions on the route to the vast geography at play for the schools. She also confirmed an efficiency review led to the elimination of a bus route in the area. "Vast geography in rural areas and program options relative to a student's location are constraints which sometimes make the 70-minute window impossible to achieve," Heath wrote in the e-mail. In a subsequent phone interview, Heath acknowledged many of the students bused to school in the district are rural, but there is still a variance between boards in interpreting what a 'normal' rural bus situation should look like. Vehof refuted any attempt to explain the long bus ride as simply a factor of living in a rural environment. She said and the other families have the right to send their children to a French immersion Catholic school and <span onClick="goto_name('Holy Family')" class="loc">Holy Family</span> is the only option. Even if she were to switch her children to St. Michael's for the English Catholic program, they would ride the same bus route and their transportation times would remain the same. Only in switching to the closest English public school -- Hickson Central Public School -- would the bus ride get shorter. Heath said it's possible conditions may improve next school year, as the consortium will be changing bus routes again with the goal of increasing the number of shared routes. "I'm not in a position to make guarantees, but the intent is to go back through our routes -- particularly in areas we're aware of -- with a fresh set of eyes," Heath said. Joan &amp; Donna are now writers, editors and publishers of the Green Brain Storm Blog and Paper.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Holy Family</th>
       <td best="true">
        <a onClick="goto(45.54038,-73.89279)">
         <span style="white-space:nowrap">45.540,-73.893</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.55008,-73.65998)">
         <span style="white-space:nowrap">45.550,-73.660</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.13243,-112.95421)">
         <span style="white-space:nowrap">46.132,-112.954</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.64067,73.05751)">
         <span style="white-space:nowrap">33.641,73.058</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-24.13333,30.36667)">
         <span style="white-space:nowrap">-24.133,30.367</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>London District</th>
       <td best="true">
        <a onClick="goto(51.50853,-0.12574)">
         <span style="white-space:nowrap">51.509,-0.126</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.98339,-81.23304)">
         <span style="white-space:nowrap">42.983,-81.233</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.91033,-82.62934)">
         <span style="white-space:nowrap">40.910,-82.629</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.88645,-83.44825)">
         <span style="white-space:nowrap">39.886,-83.448</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.19455,-81.36872)">
         <span style="white-space:nowrap">38.195,-81.369</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.6256,-85.92026)">
         <span style="white-space:nowrap">39.626,-85.920</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.04778,-89.01289)">
         <span style="white-space:nowrap">43.048,-89.013</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.12898,-84.08326)">
         <span style="white-space:nowrap">37.129,-84.083</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.08339,-81.29975)">
         <span style="white-space:nowrap">43.083,-81.300</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.52607,-93.0627)">
         <span style="white-space:nowrap">43.526,-93.063</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(2.26815,9.78934)">
         <span style="white-space:nowrap">2.268,9.789</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(8.31068,-10.78731)">
         <span style="white-space:nowrap">8.311,-10.787</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(30.67685,-99.57645)">
         <span style="white-space:nowrap">30.677,-99.576</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.32897,-93.25296)">
         <span style="white-space:nowrap">35.329,-93.253</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(1.98487,-157.47502)">
         <span style="white-space:nowrap">1.985,-157.475</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.47606,-119.44318)">
         <span style="white-space:nowrap">36.476,-119.443</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(6.00972,125.12944)">
         <span style="white-space:nowrap">6.010,125.129</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.23099,-94.94438)">
         <span style="white-space:nowrap">32.231,-94.944</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-24.81927,31.04765)">
         <span style="white-space:nowrap">-24.819,31.048</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(51.49227,-0.30864)">
         <span style="white-space:nowrap">51.492,-0.309</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Tavistock</th>
       <td best="true">
        <a onClick="goto(43.31679,-80.83302)">
         <span style="white-space:nowrap">43.317,-80.833</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.87622,-75.02961)">
         <span style="white-space:nowrap">39.876,-75.030</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.80567,-75.55798)">
         <span style="white-space:nowrap">39.806,-75.558</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.54944,-4.14418)">
         <span style="white-space:nowrap">50.549,-4.144</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.55337,-4.1396)">
         <span style="white-space:nowrap">50.553,-4.140</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.22243,119.80273)">
         <span style="white-space:nowrap">-33.222,119.803</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-43.87833,171.5001)">
         <span style="white-space:nowrap">-43.878,171.500</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-26.31944,23.97252)">
         <span style="white-space:nowrap">-26.319,23.973</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-32.55,27.21667)">
         <span style="white-space:nowrap">-32.550,27.217</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(51.5242,-0.1283)">
         <span style="white-space:nowrap">51.524,-0.128</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-38.04807,141.81411)">
         <span style="white-space:nowrap">-38.048,141.814</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-29.53629,29.48903)">
         <span style="white-space:nowrap">-29.536,29.489</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Plattsville</th>
       <td best="true">
        <a onClick="goto(43.30794,-80.61618)">
         <span style="white-space:nowrap">43.308,-80.616</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.74316,-73.69319)">
         <span style="white-space:nowrap">40.743,-73.693</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.69229,-78.74586)">
         <span style="white-space:nowrap">40.692,-78.746</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.22287,-73.25623)">
         <span style="white-space:nowrap">41.223,-73.256</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.22843,-73.219)">
         <span style="white-space:nowrap">41.228,-73.219</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.23227,-84.07744)">
         <span style="white-space:nowrap">40.232,-84.077</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Woodstock</th>
       <td best="true">
        <a onClick="goto(42.31474,-88.4487)">
         <span style="white-space:nowrap">42.315,-88.449</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.10149,-84.51938)">
         <span style="white-space:nowrap">34.101,-84.519</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.99538,-74.52599)">
         <span style="white-space:nowrap">40.995,-74.526</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.17395,-83.52743)">
         <span style="white-space:nowrap">40.174,-83.527</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.32872,-76.87192)">
         <span style="white-space:nowrap">39.329,-76.872</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.88178,-78.50584)">
         <span style="white-space:nowrap">38.882,-78.506</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.94843,-71.97396)">
         <span style="white-space:nowrap">41.948,-71.974</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.97757,-71.68508)">
         <span style="white-space:nowrap">43.978,-71.685</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.37494,-70.60849)">
         <span style="white-space:nowrap">44.375,-70.608</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.47248,-90.42735)">
         <span style="white-space:nowrap">43.472,-90.427</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.00913,-96.10058)">
         <span style="white-space:nowrap">44.009,-96.101</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.20678,-87.15)">
         <span style="white-space:nowrap">33.207,-87.150</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.74457,148.84892)">
         <span style="white-space:nowrap">-33.745,148.849</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-37.55,145.03333)">
         <span style="white-space:nowrap">-37.550,145.033</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-19.6,146.83333)">
         <span style="white-space:nowrap">-19.600,146.833</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(49.96666,-55.88146)">
         <span style="white-space:nowrap">49.967,-55.881</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(51.93,-8.24944)">
         <span style="white-space:nowrap">51.930,-8.249</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-42.75829,171.00013)">
         <span style="white-space:nowrap">-42.758,171.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-41.25826,172.82017)">
         <span style="white-space:nowrap">-41.258,172.820</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(47.53319,-52.89806)">
         <span style="white-space:nowrap">47.533,-52.898</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
