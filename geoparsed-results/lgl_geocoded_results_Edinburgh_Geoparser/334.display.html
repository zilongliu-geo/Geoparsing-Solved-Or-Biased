<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([32.79407,-79.86259], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([32.79407,-79.86259],
			  {
			      title: "Mt. Pleasant",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([-37.58333,143.86667],
			  {
			      title: "Mount Pleasant",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([35.53424,-87.20695],
			  {
			      title: "Mount Pleasant",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([33.15679,-94.96827],
			  {
			      title: "Mount Pleasant",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([42.69743,-87.85577],
			  {
			      title: "Mount Pleasant",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([40.14896,-79.54115],
			  {
			      title: "Mount Pleasant",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([35.96174,-91.7557],
			  {
			      title: "Mount Pleasant",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([40.17535,-80.79786],
			  {
			      title: "Mount Pleasant",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([40.22722,-94.50107],
			  {
			      title: "Mount Pleasant",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([40.84921,-86.32472],
			  {
			      title: "Mount Pleasant",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([-17.76371,31.04765],
			  {
			      title: "Mount Pleasant",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([14.01494,-60.98576],
			  {
			      title: "Mount Pleasant",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([-35.29868,149.15806],
			  {
			      title: "Mount Pleasant",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([52.78542,-6.44789],
			  {
			      title: "Mount Pleasant",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([-41.32827,173.97018],
			  {
			      title: "Mount Pleasant",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([17.46667,-62.95],
			  {
			      title: "Mount Pleasant",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([44.26682,-78.49955],
			  {
			      title: "Mount Pleasant",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([44.59884,-109.72073],
			  {
			      title: "Mount Pleasant",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([-35.29844,149.1512],
			  {
			      title: "Mount Pleasant",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  
    var marker = L.marker([18.16325,-76.50472],
			  {
			      title: "Mount Pleasant",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Mount Pleasant"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Regional Water Group meets in <span onClick="goto_name('Mount Pleasant')" class="loc">Mount Pleasant</span>. The <span onClick="goto_name('North East Texas Regional Water Planning')" class="loc">North East Texas Regional Water Planning</span> Group (NETRWPG) held a meeting Wednesday afternoon at the <span onClick="goto_name('Mount Pleasant')" class="loc">Mount Pleasant</span> Civic Center. Engineering Consultant Ray Flemons reviewed the status of draft reports on regional water supply planning for the Texas Water Development Board (TWDB) Regional Water Plan to be completed in 2011. There was considerable discussion on the population projections. Flemons said that, while the TWDB at this date would not allow any change in the population figures for each county, his firm recommended changing the estimates within counties. He said the Texas State Demographer feels population is shifting from rural areas into cities above the 5,000 level. Board members decided that, rather than change the methodology of making population estimates, they would stay with the current figures until revised by the 2010 federal census. Another report being prepared is on the utilization of the region's brackish water, reported Flemons. The draft reports will be ready by mid-May, he said, in time for board members to read them before the next meeting. The board also heard a presentation from the City of Canton, which is planning to build a new city reservoir to meet it projected population needs. The city's representatives asked that their water system expansion be incorporated into the regional water plan. The next planning group meeting will be May 27, at 1 p.m., at the <span onClick="goto_name('Mount Pleasant')" class="loc">Mount Pleasant</span> Civic Center.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Mount Pleasant</th>
       <td best="true">
        <a onClick="goto(32.79407,-79.86259)">
         <span style="white-space:nowrap">32.794,-79.863</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-37.58333,143.86667)">
         <span style="white-space:nowrap">-37.583,143.867</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.53424,-87.20695)">
         <span style="white-space:nowrap">35.534,-87.207</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.15679,-94.96827)">
         <span style="white-space:nowrap">33.157,-94.968</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.69743,-87.85577)">
         <span style="white-space:nowrap">42.697,-87.856</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.14896,-79.54115)">
         <span style="white-space:nowrap">40.149,-79.541</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.96174,-91.7557)">
         <span style="white-space:nowrap">35.962,-91.756</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.17535,-80.79786)">
         <span style="white-space:nowrap">40.175,-80.798</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.22722,-94.50107)">
         <span style="white-space:nowrap">40.227,-94.501</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.84921,-86.32472)">
         <span style="white-space:nowrap">40.849,-86.325</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-17.76371,31.04765)">
         <span style="white-space:nowrap">-17.764,31.048</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(14.01494,-60.98576)">
         <span style="white-space:nowrap">14.015,-60.986</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-35.29868,149.15806)">
         <span style="white-space:nowrap">-35.299,149.158</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.78542,-6.44789)">
         <span style="white-space:nowrap">52.785,-6.448</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-41.32827,173.97018)">
         <span style="white-space:nowrap">-41.328,173.970</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(17.46667,-62.95)">
         <span style="white-space:nowrap">17.467,-62.950</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.26682,-78.49955)">
         <span style="white-space:nowrap">44.267,-78.500</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.59884,-109.72073)">
         <span style="white-space:nowrap">44.599,-109.721</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-35.29844,149.1512)">
         <span style="white-space:nowrap">-35.298,149.151</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.16325,-76.50472)">
         <span style="white-space:nowrap">18.163,-76.505</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>North East Texas Regional Water Planning</th>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
