<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([39.54694,44.08417], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([39.54694,44.08417],
			  {
			      title: "Doğubeyazıt",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Dogubayazit"] = marker;
  
    var marker = L.marker([39,35],
			  {
			      title: "Turkey",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([37.47926,-83.50768],
			  {
			      title: "Turkey",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([37.11423,-94.52578],
			  {
			      title: "Lone Elm",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([-24.09994,151.65574],
			  {
			      title: "Turkey",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([34.39256,-100.89764],
			  {
			      title: "Turkey",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([34.09315,-85.8983],
			  {
			      title: "Turkeytown",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([40.69843,-74.40154],
			  {
			      title: "New Providence",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([39.1084,-83.4488],
			  {
			      title: "Turkey",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([37.64039,-81.57816],
			  {
			      title: "Turkey",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([34.99239,-78.18305],
			  {
			      title: "Turkey",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([36.24451,-92.76378],
			  {
			      title: "Turkey",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([48.05398,-122.84295],
			  {
			      title: "Tukey",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([-24.1,151.63333],
			  {
			      title: "Turkey",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([-36.73548,175.46329],
			  {
			      title: "Turkey",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([36.81065,-82.841],
			  {
			      title: "Turkey",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([35.2695,-99.70149],
			  {
			      title: "Turkey Creek",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([-24.35454,30.4368],
			  {
			      title: "Leboyana",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([48.84394,76.11818],
			  {
			      title: "Turkey",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([-24.32968,30.46214],
			  {
			      title: "Turkey",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Turkey"] = marker;
  
    var marker = L.marker([14.32603,120.97789],
			  {
			      title: "Turkey",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Turkey"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>The Turkish government has come under fire from officials in <span onClick="goto_name('Dogubayazit')" class="loc">Dogubayazit</span>, where three siblings died from the H5N1 strain of Bird Flu, for not sending enough resources and not responding quickly enough in the region. The mayor of <span onClick="goto_name('Dogubayazit')" class="loc">Dogubayazit</span>, Mukkades Kubilay, claims that the Turkish government sent only three doctors and that there were not enough workers to destroy poultry. The government has been accused of doing too little, too late. H5N1 was discovered in Turkish poultry in December, 2005. Agriculture Minister Mehdi Eker dismissed the claim, saying that culling of infected poultry began immediately following the discovery of H5N1 on December 15, 2005. Questions about whether the government acted aggressively enough early in the outbreak emerged as officials tried to contain the disease, which Eker said had been confirmed in 11 of <span onClick="goto_name('Turkey')" class="loc">Turkey</span>'s 81 provinces and was suspected in 14 others. The number of confirmed human cases of H5N1 in <span onClick="goto_name('Turkey')" class="loc">Turkey</span> is 18. Three of those have died from the virus.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Dogubayazit</th>
       <td best="true">
        <a onClick="goto(39.54694,44.08417)">
         <span style="white-space:nowrap">39.547,44.084</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Turkey</th>
       <td best="true">
        <a onClick="goto(39,35)">
         <span style="white-space:nowrap">39.000,35.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.47926,-83.50768)">
         <span style="white-space:nowrap">37.479,-83.508</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.11423,-94.52578)">
         <span style="white-space:nowrap">37.114,-94.526</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-24.09994,151.65574)">
         <span style="white-space:nowrap">-24.100,151.656</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.39256,-100.89764)">
         <span style="white-space:nowrap">34.393,-100.898</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.09315,-85.8983)">
         <span style="white-space:nowrap">34.093,-85.898</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.69843,-74.40154)">
         <span style="white-space:nowrap">40.698,-74.402</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.1084,-83.4488)">
         <span style="white-space:nowrap">39.108,-83.449</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.64039,-81.57816)">
         <span style="white-space:nowrap">37.640,-81.578</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.99239,-78.18305)">
         <span style="white-space:nowrap">34.992,-78.183</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.24451,-92.76378)">
         <span style="white-space:nowrap">36.245,-92.764</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(48.05398,-122.84295)">
         <span style="white-space:nowrap">48.054,-122.843</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-24.1,151.63333)">
         <span style="white-space:nowrap">-24.100,151.633</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-36.73548,175.46329)">
         <span style="white-space:nowrap">-36.735,175.463</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.81065,-82.841)">
         <span style="white-space:nowrap">36.811,-82.841</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.2695,-99.70149)">
         <span style="white-space:nowrap">35.270,-99.701</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-24.35454,30.4368)">
         <span style="white-space:nowrap">-24.355,30.437</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(48.84394,76.11818)">
         <span style="white-space:nowrap">48.844,76.118</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-24.32968,30.46214)">
         <span style="white-space:nowrap">-24.330,30.462</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(14.32603,120.97789)">
         <span style="white-space:nowrap">14.326,120.978</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
