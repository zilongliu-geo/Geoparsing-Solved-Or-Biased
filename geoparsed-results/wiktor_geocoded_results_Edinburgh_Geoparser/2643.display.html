<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([54.22422,-4.53565], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([54.22422,-4.53565],
			  {
			      title: "Isle of Man",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Isle of Man"] = marker;
  
    var marker = L.marker([54.25,-4.5],
			  {
			      title: "Isle of Man",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Isle of Man"] = marker;
  
    var marker = L.marker([8.39188,93.65119],
			  {
			      title: "Isle of Man",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Isle of Man"] = marker;
  
    var marker = L.marker([-33.96219,140.93196],
			  {
			      title: "Newena Island",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Isle of Man"] = marker;
  
    var marker = L.marker([41.25567,-70.81614],
			  {
			      title: "Nomans Land",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Isle of Man"] = marker;
  
    var marker = L.marker([44.4656,-63.59545],
			  {
			      title: "Isle of Man",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Isle of Man"] = marker;
  
    var marker = L.marker([44.32414,-76.41903],
			  {
			      title: "Isle of Man",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Isle of Man"] = marker;
  
    var marker = L.marker([-4.11,152.07282],
			  {
			      title: "Watom Island",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Isle of Man"] = marker;
  
    var marker = L.marker([53.73333,-2.83333],
			  {
			      title: "River Douglas",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["River Douglas"] = marker;
  
    var marker = L.marker([52.88333,-6.95],
			  {
			      title: "River Douglas",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["River Douglas"] = marker;
  
    var marker = L.marker([52.0775,-8.17167],
			  {
			      title: "River Douglas",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["River Douglas"] = marker;
  
    var marker = L.marker([51.93333,-9.13333],
			  {
			      title: "River Douglas",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["River Douglas"] = marker;
  
    var marker = L.marker([53.41058,-2.97794],
			  {
			      title: "Liverpool",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([40.57481,-76.98915],
			  {
			      title: "Liverpool",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([40.07812,-83.45492],
			  {
			      title: "Rosedale",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([40.39171,-90.00095],
			  {
			      title: "Liverpool",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([44.03639,-64.72044],
			  {
			      title: "Liverpool",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([-10.76667,-66.66667],
			  {
			      title: "Liverpool",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([-10.83333,-66.58333],
			  {
			      title: "Liverpool",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([-33.91938,150.92588],
			  {
			      title: "Liverpool",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([9.99197,-83.12714],
			  {
			      title: "Liverpool",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([43.10646,-76.2177],
			  {
			      title: "Liverpool",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([-0.33333,-52.36667],
			  {
			      title: "Liverpool",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([5.37504,-74.9237],
			  {
			      title: "Liverpool",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([29.29496,-95.27882],
			  {
			      title: "Liverpool",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([38.89481,-81.53068],
			  {
			      title: "Liverpool",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([-14.3,-62.31667],
			  {
			      title: "Liverpool",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([30.91518,-90.68038],
			  {
			      title: "Liverpool",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([32.36681,-85.77829],
			  {
			      title: "Liverpool",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([41.55254,-87.29476],
			  {
			      title: "Liverpool",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([-33.92418,150.91232],
			  {
			      title: "Liverpool",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([43.83342,-79.08288],
			  {
			      title: "Liverpool",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Liverpool"] = marker;
  
    var marker = L.marker([53.66099,19.64295],
			  {
			      title: "Tynwałd",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Tynwald"] = marker;
  
    var marker = L.marker([-17.81028,30.955],
			  {
			      title: "Tynwald",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Tynwald"] = marker;
  
    var marker = L.marker([-18.06667,32.15],
			  {
			      title: "Tynwald",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Tynwald"] = marker;
  
    var marker = L.marker([-17.81694,30.94861],
			  {
			      title: "Tynwald Siding",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Tynwald"] = marker;
  
    var marker = L.marker([54.07445,-4.65365],
			  {
			      title: "Castletown",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([54.07463,-4.6582],
			  {
			      title: "Castletown",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([53.35222,-6.52694],
			  {
			      title: "Castletown",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([52.72233,-6.18905],
			  {
			      title: "Castletown",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([53.50616,-6.8303],
			  {
			      title: "Castletown",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([53.61697,-6.93302],
			  {
			      title: "Castletown",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([52.97639,-7.4925],
			  {
			      title: "Castletown",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([53.31444,-7.75111],
			  {
			      title: "Castletown",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([53.06889,-7.83944],
			  {
			      title: "Castletown",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([52.87819,-8.37985],
			  {
			      title: "Castletown Bridge",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([54.19083,-8.48056],
			  {
			      title: "Castletown",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([50.56667,-2.45],
			  {
			      title: "Castletown",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([52.42278,-8.81444],
			  {
			      title: "Castletown",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([53.02806,-9.06861],
			  {
			      title: "Castletown",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([51.77167,-8.96111],
			  {
			      title: "Castletown",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([58.59331,-3.38827],
			  {
			      title: "Castletown",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([46.44133,-110.67187],
			  {
			      title: "Castle Town",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([-33.83237,121.91563],
			  {
			      title: "Castletown",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([52.80222,-7.5925],
			  {
			      title: "Castletown",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Castletown"] = marker;
  
    var marker = L.marker([52.71722,-7.69528],
			  {
			      title: "Castletown",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Castletown"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Douglas (Manx: Doolish) is the capital and largest town of the <span onClick="goto_name('Isle of Man')" class="loc">Isle of Man</span>, with a population of 27,938 people (2011). It is located at the mouth of the <span onClick="goto_name('River Douglas')" class="loc">River Douglas</span>, and on a sweeping bay of two miles. The <span onClick="goto_name('River Douglas')" class="loc">River Douglas</span> forms part of the town's harbour and main commercial port. Douglas was a small settlement until rapid growth occurred as a result of links with the English port of <span onClick="goto_name('Liverpool')" class="loc">Liverpool</span> in the 18th century. Further population growth came in the following century, resulting during the 1860s in a staged transfer of the High Courts, the Lieutenant Governor's residence, and finally the seat of the legislature, <span onClick="goto_name('Tynwald')" class="loc">Tynwald</span>, to Douglas from the ancient capital, <span onClick="goto_name('Castletown')" class="loc">Castletown</span>. The town serves as the Island's main hub for business, finance, legal services, shipping, transport, shopping, and entertainment. The annual <span onClick="goto_name('Isle of Man TT')" class="loc">Isle of Man TT</span> motorcycle races start and finish in Douglas. In the absence of any archaeological data, it is possible that the origins of the town may be revealed by analysis of the original street and plot pattern. The discovery of a bronze weapon in central Douglas, and the large Ballaquayle Viking treasure hoard on the outskirts, both in the 1890s, hint at the early importance of the site now occupied by Douglas. Scholars agree that the name of the town derives from Early Celtic 'Duboglassio' meaning 'black river'. Douglas is twice referred to in the Monastic 'Chronicle of the Kings of Man and the Isles'; first in 1192, when the monks of St Mary's Abbey at Rushen, were transferred there for a four-year stay, then again in 1313, when Robert (Bruce), King of Scotland, spent the night at the 'monastery of Duglas' on his way to seize <span onClick="goto_name('Castle Rushen')" class="loc">Castle Rushen</span>. These may be references to the site of the later Nunnery, a little upstream from the port.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Isle of Man</th>
       <td best="true">
        <a onClick="goto(54.22422,-4.53565)">
         <span style="white-space:nowrap">54.224,-4.536</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(54.25,-4.5)">
         <span style="white-space:nowrap">54.250,-4.500</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(8.39188,93.65119)">
         <span style="white-space:nowrap">8.392,93.651</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.96219,140.93196)">
         <span style="white-space:nowrap">-33.962,140.932</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.25567,-70.81614)">
         <span style="white-space:nowrap">41.256,-70.816</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.4656,-63.59545)">
         <span style="white-space:nowrap">44.466,-63.595</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.32414,-76.41903)">
         <span style="white-space:nowrap">44.324,-76.419</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-4.11,152.07282)">
         <span style="white-space:nowrap">-4.110,152.073</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>River Douglas</th>
       <td best="true">
        <a onClick="goto(53.73333,-2.83333)">
         <span style="white-space:nowrap">53.733,-2.833</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.88333,-6.95)">
         <span style="white-space:nowrap">52.883,-6.950</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.0775,-8.17167)">
         <span style="white-space:nowrap">52.078,-8.172</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(51.93333,-9.13333)">
         <span style="white-space:nowrap">51.933,-9.133</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Liverpool</th>
       <td best="true">
        <a onClick="goto(53.41058,-2.97794)">
         <span style="white-space:nowrap">53.411,-2.978</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.57481,-76.98915)">
         <span style="white-space:nowrap">40.575,-76.989</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.07812,-83.45492)">
         <span style="white-space:nowrap">40.078,-83.455</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.39171,-90.00095)">
         <span style="white-space:nowrap">40.392,-90.001</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.03639,-64.72044)">
         <span style="white-space:nowrap">44.036,-64.720</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-10.76667,-66.66667)">
         <span style="white-space:nowrap">-10.767,-66.667</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-10.83333,-66.58333)">
         <span style="white-space:nowrap">-10.833,-66.583</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.91938,150.92588)">
         <span style="white-space:nowrap">-33.919,150.926</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(9.99197,-83.12714)">
         <span style="white-space:nowrap">9.992,-83.127</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.10646,-76.2177)">
         <span style="white-space:nowrap">43.106,-76.218</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-0.33333,-52.36667)">
         <span style="white-space:nowrap">-0.333,-52.367</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(5.37504,-74.9237)">
         <span style="white-space:nowrap">5.375,-74.924</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(29.29496,-95.27882)">
         <span style="white-space:nowrap">29.295,-95.279</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.89481,-81.53068)">
         <span style="white-space:nowrap">38.895,-81.531</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-14.3,-62.31667)">
         <span style="white-space:nowrap">-14.300,-62.317</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(30.91518,-90.68038)">
         <span style="white-space:nowrap">30.915,-90.680</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.36681,-85.77829)">
         <span style="white-space:nowrap">32.367,-85.778</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.55254,-87.29476)">
         <span style="white-space:nowrap">41.553,-87.295</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.92418,150.91232)">
         <span style="white-space:nowrap">-33.924,150.912</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.83342,-79.08288)">
         <span style="white-space:nowrap">43.833,-79.083</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Tynwald</th>
       <td best="true">
        <a onClick="goto(53.66099,19.64295)">
         <span style="white-space:nowrap">53.661,19.643</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-17.81028,30.955)">
         <span style="white-space:nowrap">-17.810,30.955</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-18.06667,32.15)">
         <span style="white-space:nowrap">-18.067,32.150</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-17.81694,30.94861)">
         <span style="white-space:nowrap">-17.817,30.949</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Castletown</th>
       <td best="true">
        <a onClick="goto(54.07445,-4.65365)">
         <span style="white-space:nowrap">54.074,-4.654</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(54.07463,-4.6582)">
         <span style="white-space:nowrap">54.075,-4.658</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.35222,-6.52694)">
         <span style="white-space:nowrap">53.352,-6.527</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.72233,-6.18905)">
         <span style="white-space:nowrap">52.722,-6.189</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.50616,-6.8303)">
         <span style="white-space:nowrap">53.506,-6.830</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.61697,-6.93302)">
         <span style="white-space:nowrap">53.617,-6.933</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.97639,-7.4925)">
         <span style="white-space:nowrap">52.976,-7.492</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.31444,-7.75111)">
         <span style="white-space:nowrap">53.314,-7.751</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.06889,-7.83944)">
         <span style="white-space:nowrap">53.069,-7.839</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.87819,-8.37985)">
         <span style="white-space:nowrap">52.878,-8.380</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(54.19083,-8.48056)">
         <span style="white-space:nowrap">54.191,-8.481</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.56667,-2.45)">
         <span style="white-space:nowrap">50.567,-2.450</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.42278,-8.81444)">
         <span style="white-space:nowrap">52.423,-8.814</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.02806,-9.06861)">
         <span style="white-space:nowrap">53.028,-9.069</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(51.77167,-8.96111)">
         <span style="white-space:nowrap">51.772,-8.961</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(58.59331,-3.38827)">
         <span style="white-space:nowrap">58.593,-3.388</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.44133,-110.67187)">
         <span style="white-space:nowrap">46.441,-110.672</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.83237,121.91563)">
         <span style="white-space:nowrap">-33.832,121.916</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.80222,-7.5925)">
         <span style="white-space:nowrap">52.802,-7.593</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.71722,-7.69528)">
         <span style="white-space:nowrap">52.717,-7.695</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Isle of Man TT</th>
      </tr>
      <tr>
       <th>Castle Rushen</th>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
