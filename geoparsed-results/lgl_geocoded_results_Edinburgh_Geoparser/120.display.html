<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([38.21816,-81.44289], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([38.21816,-81.44289],
			  {
			      title: "East Bank",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([-33.58333,25.88333],
			  {
			      title: "East Bank",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([-33.58899,26.9017],
			  {
			      title: "East Bank",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([33.15628,-79.13838],
			  {
			      title: "East Bank",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([40.54455,-73.98875],
			  {
			      title: "East Bank",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([-4.01528,122.95583],
			  {
			      title: "Gosong Timur",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([50.68333,-0.66667],
			  {
			      title: "East Bank",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([57.76667,-6.51667],
			  {
			      title: "East Bank",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([4.20667,100.59722],
			  {
			      title: "East Bank",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([30.2002,-88.03333],
			  {
			      title: "Dixey Bar",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([18.31977,-64.92306],
			  {
			      title: "Muhlenfels Point",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([51.45928,140.86248],
			  {
			      title: "Banka Vostok",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([-23.89655,151.41527],
			  {
			      title: "East Banks",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([29.08191,-83.05595],
			  {
			      title: "East Bank",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([61,18.46667],
			  {
			      title: "Östra Banken",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([32.25,35.75],
			  {
			      title: "East Bank",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([44.5168,-80.21638],
			  {
			      title: "East Bank",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([53.36677,-55.76465],
			  {
			      title: "East Bank",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([57.77389,3.52028],
			  {
			      title: "East Bank",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([55.41667,0.91667],
			  {
			      title: "East Bank",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["East Bank"] = marker;
  
    var marker = L.marker([38.33657,-81.52812],
			  {
			      title: "Kanawha",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Kanawha County"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Slide forces closure of W.Va. 61 in <span onClick="goto_name('East Bank')" class="loc">East Bank</span>. <span onClick="goto_name('Kanawha County')" class="loc">Kanawha County</span> emergency responders and state highway officials don't know exactly how long W.Va. 61 will be closed in <span onClick="goto_name('East Bank')" class="loc">East Bank</span> because of a mudslide. But <span onClick="goto_name('East Bank')" class="loc">East Bank</span> Mayor Chuck Blair said Monday that he expects the major thoroughfare to be shut down at least two days. "They're still trying to determine how much damage there is," Blair said. "There's a deep mine up there that has been accumulating water for years and years and years," Petry said. Kathy Cosco, spokeswoman for the state Department of Environmental Protection, said the mine last operated in the 1940s or 1950s. Classes at <span onClick="goto_name('East Bank')" class="loc">East Bank</span> Middle School were also canceled as a result of the slide. Melanie Vickers, assistant superintendent in charge of middle schools, said <span onClick="goto_name('East Bank')" class="loc">East Bank</span> Middle School will be open today. Principal Candy Strader drove to the school Monday and saw no damage inside the building, according to Vickers. "She did get inside and said things were fine," she said. The problem was all the water that had spilled into the school's parking lot, Vickers said. After speaking with county transportation director George Beckett, Vickers said she believed bus drivers would be able to get students to the school safely. <span onClick="goto_name('Kanawha County')" class="loc">Kanawha County</span> emergency responders and state highway officials don't know exactly how long W.Va. 61 will be closed in <span onClick="goto_name('East Bank')" class="loc">East Bank</span> because of a mudslide. But <span onClick="goto_name('East Bank')" class="loc">East Bank</span> Mayor Chuck Blair said Monday that he expects the major thoroughfare to be shut down at least two days. "They're still trying to determine how much damage there is," Blair said. <span onClick="goto_name('Kanawha County')" class="loc">Kanawha County</span> Emergency Services Director Dale Petry said an old, abandoned mine that had been dormantor for years started overflowing early Monday, sending hundreds of thousands of gallons of water cascading across W.Va. 61 and onto First Avenue in <span onClick="goto_name('East Bank')" class="loc">East Bank</span> and forcing tons of rock and earth onto the road near the western end of town. "There's a deep mine up there that has been accumulating water for years and years and years," Petry said. Kathy Cosco, spokeswoman for the state Department of Environmental Protection, said the mine last operated in the 1940s or 1950s. Classes at <span onClick="goto_name('East Bank')" class="loc">East Bank</span> Middle School were also canceled as a result of the slide. Melanie Vickers, assistant superintendent in charge of middle schools, said <span onClick="goto_name('East Bank')" class="loc">East Bank</span> Middle School will be open today. Principal Candy Strader drove to the school Monday and saw no damage inside the building, according to Vickers. "She did get inside and said things were fine," she said. The problem was all the water that had spilled into the school's parking lot, Vickers said. After speaking with county transportation director George Beckett, Vickers said she believed bus drivers would be able to get students to the school safely. Petry said the slide forced the evacuation of one family whose driveway was obliterated by the mass of mud and water. Stacy Auber, who lives downhill from the old mine, said relatives called her about 6:20 a.m. and told her about the mudslide. Soon, a dump truck belonging to the family went sliding over the hill. Auber grabbed some clothes and left her house by about 10:30 a.m. She was allowed to return home Monday afternoon. But Johnny Walker, a highways administrator with the state Division of Highways, said highways officials can't even begin to guess how long it will take to clear away the debris and reopen W.Va. 61. He said it all depends on how badly the tons of mud and water damaged the two-lane highway. "We've got a piling wall along that entire section, and it's undercut all of that," Walker said. Highways officials need to determine whether the ground beneath the road was undermined, and they won't know that until water stops pouring across the asphalt. Petry said discharge from the mine portal had slowed down by mid-afternoon, but that water continued to gush out of the abandoned mine at a rate of about 2,000 gallons per minute. Emergency officials reopened narrow First Avenue Monday afternoon to allow residents access to their homes, but the single-lane street will be open only to passenger vehicles. Mud and water also closed the inner set of railroad tracks, Petry said. All but local traffic was being rerouted at Cabin Creek Road and Paint Creek Road. "We're kind of on pins and needles now to see what happens next with it," Blair said Monday afternoon. "We don't know how much water is up there to come out."</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>East Bank</th>
       <td best="true">
        <a onClick="goto(38.21816,-81.44289)">
         <span style="white-space:nowrap">38.218,-81.443</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.58333,25.88333)">
         <span style="white-space:nowrap">-33.583,25.883</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.58899,26.9017)">
         <span style="white-space:nowrap">-33.589,26.902</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.15628,-79.13838)">
         <span style="white-space:nowrap">33.156,-79.138</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.54455,-73.98875)">
         <span style="white-space:nowrap">40.545,-73.989</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-4.01528,122.95583)">
         <span style="white-space:nowrap">-4.015,122.956</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.68333,-0.66667)">
         <span style="white-space:nowrap">50.683,-0.667</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(57.76667,-6.51667)">
         <span style="white-space:nowrap">57.767,-6.517</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(4.20667,100.59722)">
         <span style="white-space:nowrap">4.207,100.597</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(30.2002,-88.03333)">
         <span style="white-space:nowrap">30.200,-88.033</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.31977,-64.92306)">
         <span style="white-space:nowrap">18.320,-64.923</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(51.45928,140.86248)">
         <span style="white-space:nowrap">51.459,140.862</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-23.89655,151.41527)">
         <span style="white-space:nowrap">-23.897,151.415</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(29.08191,-83.05595)">
         <span style="white-space:nowrap">29.082,-83.056</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(61,18.46667)">
         <span style="white-space:nowrap">61.000,18.467</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.25,35.75)">
         <span style="white-space:nowrap">32.250,35.750</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.5168,-80.21638)">
         <span style="white-space:nowrap">44.517,-80.216</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.36677,-55.76465)">
         <span style="white-space:nowrap">53.367,-55.765</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(57.77389,3.52028)">
         <span style="white-space:nowrap">57.774,3.520</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(55.41667,0.91667)">
         <span style="white-space:nowrap">55.417,0.917</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Kanawha County</th>
       <td best="true">
        <a onClick="goto(38.33657,-81.52812)">
         <span style="white-space:nowrap">38.337,-81.528</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
