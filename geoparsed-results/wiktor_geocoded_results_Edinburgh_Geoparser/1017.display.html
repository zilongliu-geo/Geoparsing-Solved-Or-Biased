<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([40.4976,-74.48849], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([40.4976,-74.48849],
			  {
			      title: "Somerset",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([45.12441,-92.67354],
			  {
			      title: "Somerset",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([41.76955,-71.12866],
			  {
			      title: "Somerset",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([49.41221,-98.66138],
			  {
			      title: "Somerset",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([37.09202,-84.60411],
			  {
			      title: "Somerset",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([40.82528,-100.86098],
			  {
			      title: "Somerset",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([43.34756,-78.55586],
			  {
			      title: "Somerset",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([40.00841,-79.07808],
			  {
			      title: "Somerset",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([-10.7613,142.561],
			  {
			      title: "Somerset",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([38.96594,-77.09609],
			  {
			      title: "Somerset",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([42.95036,-72.98649],
			  {
			      title: "Somerset",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([-41.04065,145.83055],
			  {
			      title: "Somerset",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([38.20763,-78.21806],
			  {
			      title: "Somerset",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([29.22635,-98.6578],
			  {
			      title: "Somerset",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([32.29833,-64.86833],
			  {
			      title: "Somerset",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([18.08036,-77.54306],
			  {
			      title: "Somerset",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([51.14898,-2.88998],
			  {
			      title: "Somerset",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([51.08333,-3],
			  {
			      title: "Somerset",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([-27.01133,152.41521],
			  {
			      title: "Somerset",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([18.00976,-76.54595],
			  {
			      title: "Somerset",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Somerset"] = marker;
  
    var marker = L.marker([44.50024,-90.00041],
			  {
			      title: "Wisconsin",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Wisconsin"] = marker;
  
    var marker = L.marker([36.1098,-93.1349],
			  {
			      title: "Dogpatch",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Wisconsin"] = marker;
  
    var marker = L.marker([58.57873,8.79237],
			  {
			      title: "Wisconsin",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Wisconsin"] = marker;
  
    var marker = L.marker([-23.49132,28.83252],
			  {
			      title: "Wisconsin",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Wisconsin"] = marker;
  
    var marker = L.marker([-34.33156,137.87949],
			  {
			      title: "Wisconsin",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Wisconsin"] = marker;
  
    var marker = L.marker([42.50501,-90.09874],
			  {
			      title: "Apple River",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Apple River"] = marker;
  
    var marker = L.marker([45.14774,-92.74798],
			  {
			      title: "Apple River",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Apple River"] = marker;
  
    var marker = L.marker([42.17641,-90.24346],
			  {
			      title: "Apple River",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Apple River"] = marker;
  
    var marker = L.marker([45.46683,-64.78207],
			  {
			      title: "Apple River",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Apple River"] = marker;
  
    var marker = L.marker([45.4772,-64.83573],
			  {
			      title: "Apple River",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Apple River"] = marker;
  
    var marker = L.marker([50.71728,-125.41512],
			  {
			      title: "Apple River",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Apple River"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>
     <span onClick="goto_name('Somerset')" class="loc">Somerset</span> is a village in St. <span onClick="goto_name('Croix County')" class="loc">Croix County</span>, <span onClick="goto_name('Wisconsin')" class="loc">Wisconsin</span>, along the <span onClick="goto_name('Apple River')" class="loc">Apple River</span>. The population was 2,635 at the 2010 census. The village is located within the Town of <span onClick="goto_name('Somerset')" class="loc">Somerset</span>. Somerset's current Village President is Jeffrey Johnson. <span onClick="goto_name('Somerset')" class="loc">Somerset</span> is located at 45°7′30″N 92°40′30″W (45.125189, -92.6752). According to the United States Census Bureau, the village has a total area of 2.75 square miles (7.12 km2), all of it land. The <span onClick="goto_name('Apple River')" class="loc">Apple River</span> runs through <span onClick="goto_name('Somerset')" class="loc">Somerset</span>. Somerset High School is the local high school. Students in grades ninth through twelfth go here. The current principal is Chris Moore. Somerset Middle School is the local middle school. Students in grades fifth through eighth attend the middle school. The current principal is Sarah Eichten. Somerset Elementary School is the local elementary school, in which students starting in junior kindergarten up through fourth grade attend. The current principal is Dr. Christopher Kamrath. Somerset High School offers the following sports: Baseball, Boys Basketball, Boys Golf, Boys Hockey, Boys Soccer, Cheerleading, Cross Country, Football, Girls Basketball, Girls Golf, Girls Hockey, Girls Soccer, Softball, Track, Volleyball, and Wrestling.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Somerset</th>
       <td best="true">
        <a onClick="goto(40.4976,-74.48849)">
         <span style="white-space:nowrap">40.498,-74.488</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.12441,-92.67354)">
         <span style="white-space:nowrap">45.124,-92.674</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.76955,-71.12866)">
         <span style="white-space:nowrap">41.770,-71.129</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(49.41221,-98.66138)">
         <span style="white-space:nowrap">49.412,-98.661</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.09202,-84.60411)">
         <span style="white-space:nowrap">37.092,-84.604</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.82528,-100.86098)">
         <span style="white-space:nowrap">40.825,-100.861</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.34756,-78.55586)">
         <span style="white-space:nowrap">43.348,-78.556</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.00841,-79.07808)">
         <span style="white-space:nowrap">40.008,-79.078</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-10.7613,142.561)">
         <span style="white-space:nowrap">-10.761,142.561</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.96594,-77.09609)">
         <span style="white-space:nowrap">38.966,-77.096</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.95036,-72.98649)">
         <span style="white-space:nowrap">42.950,-72.986</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-41.04065,145.83055)">
         <span style="white-space:nowrap">-41.041,145.831</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.20763,-78.21806)">
         <span style="white-space:nowrap">38.208,-78.218</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(29.22635,-98.6578)">
         <span style="white-space:nowrap">29.226,-98.658</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.29833,-64.86833)">
         <span style="white-space:nowrap">32.298,-64.868</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.08036,-77.54306)">
         <span style="white-space:nowrap">18.080,-77.543</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(51.14898,-2.88998)">
         <span style="white-space:nowrap">51.149,-2.890</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(51.08333,-3)">
         <span style="white-space:nowrap">51.083,-3.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-27.01133,152.41521)">
         <span style="white-space:nowrap">-27.011,152.415</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.00976,-76.54595)">
         <span style="white-space:nowrap">18.010,-76.546</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Croix County</th>
      </tr>
      <tr>
       <th>Wisconsin</th>
       <td best="true">
        <a onClick="goto(44.50024,-90.00041)">
         <span style="white-space:nowrap">44.500,-90.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.1098,-93.1349)">
         <span style="white-space:nowrap">36.110,-93.135</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(58.57873,8.79237)">
         <span style="white-space:nowrap">58.579,8.792</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-23.49132,28.83252)">
         <span style="white-space:nowrap">-23.491,28.833</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-34.33156,137.87949)">
         <span style="white-space:nowrap">-34.332,137.879</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Apple River</th>
       <td best="true">
        <a onClick="goto(42.50501,-90.09874)">
         <span style="white-space:nowrap">42.505,-90.099</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.14774,-92.74798)">
         <span style="white-space:nowrap">45.148,-92.748</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.17641,-90.24346)">
         <span style="white-space:nowrap">42.176,-90.243</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.46683,-64.78207)">
         <span style="white-space:nowrap">45.467,-64.782</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.4772,-64.83573)">
         <span style="white-space:nowrap">45.477,-64.836</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.71728,-125.41512)">
         <span style="white-space:nowrap">50.717,-125.415</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
