<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([53.55,-2.2], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([53.55,-2.2],
			  {
			      title: "Middleton",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([53.74957,-1.54942],
			  {
			      title: "Middleton",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([54.26913,-2.58024],
			  {
			      title: "Middleton",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([52.38333,-2.68333],
			  {
			      title: "Middleton",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([52.02253,0.72677],
			  {
			      title: "Middleton",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([53.92598,-0.58099],
			  {
			      title: "Middleton",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([-22.35135,141.5517],
			  {
			      title: "Middleton",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([36.75088,-86.73472],
			  {
			      title: "Middleton",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([32.16376,-88.61226],
			  {
			      title: "Middleton",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([45.34373,-122.86454],
			  {
			      title: "Middleton",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([45.92199,-64.51561],
			  {
			      title: "Middleton",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([43.70683,-116.62014],
			  {
			      title: "Middleton",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([37.855,-107.57228],
			  {
			      title: "Middleton",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([45.71659,-63.17932],
			  {
			      title: "Middleton",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([38.20658,-122.26303],
			  {
			      title: "Middleton",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([-32.95397,25.81393],
			  {
			      title: "Middleton",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([-35.51047,138.70377],
			  {
			      title: "Middleton",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([17.93971,-76.43558],
			  {
			      title: "Middleton",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([42.8168,-80.61639],
			  {
			      title: "Middleton",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([48.8001,-86.64993],
			  {
			      title: "Middleton",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Middleton"] = marker;
  
    var marker = L.marker([52.56099,-1.62276],
			  {
			      title: "North Warwickshire District",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["North Warwickshire district"] = marker;
  
    var marker = L.marker([52.33333,-1.58333],
			  {
			      title: "Warwickshire",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["county of Warwickshire"] = marker;
  
    var marker = L.marker([52.30064,-1.55955],
			  {
			      title: "Warwickshire",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["county of Warwickshire"] = marker;
  
    var marker = L.marker([39.41589,-84.55745],
			  {
			      title: "Warwickshire",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["county of Warwickshire"] = marker;
  
    var marker = L.marker([-19.38333,29.71667],
			  {
			      title: "Warwickshire",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["county of Warwickshire"] = marker;
  
    var marker = L.marker([52.16045,-0.70312],
			  {
			      title: "England",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([53,-2],
			  {
			      title: "England",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([52.21667,7.03333],
			  {
			      title: "England",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([54.48333,8.88333],
			  {
			      title: "England",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([59.26536,10.4806],
			  {
			      title: "England",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([61.33333,5.01667],
			  {
			      title: "England",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([63.4,13.01667],
			  {
			      title: "Ängland",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([48.48581,-96.62811],
			  {
			      title: "Englund",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([40.84033,-82.23933],
			  {
			      title: "England",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([63.31662,22.47928],
			  {
			      title: "England",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([34.54426,-91.96903],
			  {
			      title: "England",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([6.59465,8.88173],
			  {
			      title: "England",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([61.23333,10.2],
			  {
			      title: "England",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([35.88453,-94.668],
			  {
			      title: "England",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([59.117,5.9663],
			  {
			      title: "England",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([60.98846,4.59514],
			  {
			      title: "England",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([62.80496,6.78423],
			  {
			      title: "England",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([-28.29379,22.29347],
			  {
			      title: "England",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([-28.34492,23.61985],
			  {
			      title: "England",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([14.32689,120.97685],
			  {
			      title: "England",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["England"] = marker;
  
    var marker = L.marker([52.33333,-1.58333],
			  {
			      title: "Warwickshire",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Warwickshire"] = marker;
  
    var marker = L.marker([52.30064,-1.55955],
			  {
			      title: "Warwickshire",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Warwickshire"] = marker;
  
    var marker = L.marker([39.41589,-84.55745],
			  {
			      title: "Warwickshire",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Warwickshire"] = marker;
  
    var marker = L.marker([-19.38333,29.71667],
			  {
			      title: "Warwickshire",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Warwickshire"] = marker;
  
    var marker = L.marker([52.63399,-1.69587],
			  {
			      title: "Tamworth",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Tamworth"] = marker;
  
    var marker = L.marker([-31.09048,150.92905],
			  {
			      title: "Tamworth",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Tamworth"] = marker;
  
    var marker = L.marker([43.8598,-71.26313],
			  {
			      title: "Tamworth",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Tamworth"] = marker;
  
    var marker = L.marker([44.48685,-76.99543],
			  {
			      title: "Tamworth",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Tamworth"] = marker;
  
    var marker = L.marker([-21.04574,143.66852],
			  {
			      title: "Tamworth",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Tamworth"] = marker;
  
    var marker = L.marker([37.6482,-78.08083],
			  {
			      title: "Tamworth",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Tamworth"] = marker;
  
    var marker = L.marker([44.48342,-76.99944],
			  {
			      title: "Tamworth",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Tamworth"] = marker;
  
    var marker = L.marker([-28.1518,28.92464],
			  {
			      title: "Tamworth",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Tamworth"] = marker;
  
    var marker = L.marker([-21.04713,143.6692],
			  {
			      title: "Tamworth",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Tamworth"] = marker;
  
    var marker = L.marker([-22.80289,29.42492],
			  {
			      title: "Tamworth",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Tamworth"] = marker;
  
    var marker = L.marker([-22.79763,29.41454],
			  {
			      title: "Tamworth",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Tamworth"] = marker;
  
    var marker = L.marker([53.12773,-1.01227],
			  {
			      title: "Nottinghamshire",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Nottinghamshire"] = marker;
  
    var marker = L.marker([53.16667,-1],
			  {
			      title: "Nottinghamshire",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Nottinghamshire"] = marker;
  
    var marker = L.marker([5.98333,-58.28333],
			  {
			      title: "Nottinghamshire",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Nottinghamshire"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>
     <span onClick="goto_name('Middleton')" class="loc">Middleton</span> is a small village in the <span onClick="goto_name('North Warwickshire district')" class="loc">North Warwickshire district</span> of the <span onClick="goto_name('county of Warwickshire')" class="loc">county of Warwickshire</span>, <span onClick="goto_name('England')" class="loc">England</span>. The population of the civil parish at the 2011 census was 630. At the time of the Domesday Book Middleton was under a Norman Overlord Hugh de Grandmesnil who had several holdings in <span onClick="goto_name('Warwickshire')" class="loc">Warwickshire</span>. When he died it passed to the Marmions of <span onClick="goto_name('Tamworth')" class="loc">Tamworth</span>. In 1291 the estate was divided into three and <span onClick="goto_name('Middleton')" class="loc">Middleton</span> was held by the de Frevilles. In the mid 15th century Sir Richard Bingham married Margaret Freville of <span onClick="goto_name('Nottinghamshire')" class="loc">Nottinghamshire</span>. There is a brass memorial to Sir Richard in the Parish Church. When Margaret died in 1493 she left the estate to her grandson (by her first marriage) Sir Henry Willughby. Ornithologist Francis Willughby was born there in 1635. It stayed in the family until 1924. By the late 1970s <span onClick="goto_name('Middleton Hall')" class="loc">Middleton Hall</span> and the surrounding estate came under the ownership of the Amey Roadstone Construction (ARC) for sand and gravel extraction. The Hall and its outbuildings, with some remains dating back to the Norman period, was in serious danger of being lost. It was saved by the establishment of the <span onClick="goto_name('Middleton Hall')" class="loc">Middleton Hall</span> Trust in 1980, a group of volunteers who are restoring the Hall with the help of local authorities and national bodies. ARC have assisted in this by renting at a low rate the Hall and surroundings to the Trust, and by restoring a Tudor period stable block as a craft centre.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Middleton</th>
       <td best="true">
        <a onClick="goto(53.55,-2.2)">
         <span style="white-space:nowrap">53.550,-2.200</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.74957,-1.54942)">
         <span style="white-space:nowrap">53.750,-1.549</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(54.26913,-2.58024)">
         <span style="white-space:nowrap">54.269,-2.580</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.38333,-2.68333)">
         <span style="white-space:nowrap">52.383,-2.683</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.02253,0.72677)">
         <span style="white-space:nowrap">52.023,0.727</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.92598,-0.58099)">
         <span style="white-space:nowrap">53.926,-0.581</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-22.35135,141.5517)">
         <span style="white-space:nowrap">-22.351,141.552</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.75088,-86.73472)">
         <span style="white-space:nowrap">36.751,-86.735</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.16376,-88.61226)">
         <span style="white-space:nowrap">32.164,-88.612</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.34373,-122.86454)">
         <span style="white-space:nowrap">45.344,-122.865</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.92199,-64.51561)">
         <span style="white-space:nowrap">45.922,-64.516</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.70683,-116.62014)">
         <span style="white-space:nowrap">43.707,-116.620</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.855,-107.57228)">
         <span style="white-space:nowrap">37.855,-107.572</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.71659,-63.17932)">
         <span style="white-space:nowrap">45.717,-63.179</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.20658,-122.26303)">
         <span style="white-space:nowrap">38.207,-122.263</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-32.95397,25.81393)">
         <span style="white-space:nowrap">-32.954,25.814</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-35.51047,138.70377)">
         <span style="white-space:nowrap">-35.510,138.704</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(17.93971,-76.43558)">
         <span style="white-space:nowrap">17.940,-76.436</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.8168,-80.61639)">
         <span style="white-space:nowrap">42.817,-80.616</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(48.8001,-86.64993)">
         <span style="white-space:nowrap">48.800,-86.650</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>North Warwickshire district</th>
       <td best="true">
        <a onClick="goto(52.56099,-1.62276)">
         <span style="white-space:nowrap">52.561,-1.623</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>county of Warwickshire</th>
       <td best="true">
        <a onClick="goto(52.33333,-1.58333)">
         <span style="white-space:nowrap">52.333,-1.583</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.30064,-1.55955)">
         <span style="white-space:nowrap">52.301,-1.560</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.41589,-84.55745)">
         <span style="white-space:nowrap">39.416,-84.557</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-19.38333,29.71667)">
         <span style="white-space:nowrap">-19.383,29.717</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>England</th>
       <td best="true">
        <a onClick="goto(52.16045,-0.70312)">
         <span style="white-space:nowrap">52.160,-0.703</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53,-2)">
         <span style="white-space:nowrap">53.000,-2.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.21667,7.03333)">
         <span style="white-space:nowrap">52.217,7.033</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(54.48333,8.88333)">
         <span style="white-space:nowrap">54.483,8.883</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(59.26536,10.4806)">
         <span style="white-space:nowrap">59.265,10.481</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(61.33333,5.01667)">
         <span style="white-space:nowrap">61.333,5.017</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(63.4,13.01667)">
         <span style="white-space:nowrap">63.400,13.017</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(48.48581,-96.62811)">
         <span style="white-space:nowrap">48.486,-96.628</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.84033,-82.23933)">
         <span style="white-space:nowrap">40.840,-82.239</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(63.31662,22.47928)">
         <span style="white-space:nowrap">63.317,22.479</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.54426,-91.96903)">
         <span style="white-space:nowrap">34.544,-91.969</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(6.59465,8.88173)">
         <span style="white-space:nowrap">6.595,8.882</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(61.23333,10.2)">
         <span style="white-space:nowrap">61.233,10.200</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.88453,-94.668)">
         <span style="white-space:nowrap">35.885,-94.668</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(59.117,5.9663)">
         <span style="white-space:nowrap">59.117,5.966</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(60.98846,4.59514)">
         <span style="white-space:nowrap">60.988,4.595</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(62.80496,6.78423)">
         <span style="white-space:nowrap">62.805,6.784</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-28.29379,22.29347)">
         <span style="white-space:nowrap">-28.294,22.293</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-28.34492,23.61985)">
         <span style="white-space:nowrap">-28.345,23.620</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(14.32689,120.97685)">
         <span style="white-space:nowrap">14.327,120.977</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Warwickshire</th>
       <td best="true">
        <a onClick="goto(52.33333,-1.58333)">
         <span style="white-space:nowrap">52.333,-1.583</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.30064,-1.55955)">
         <span style="white-space:nowrap">52.301,-1.560</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.41589,-84.55745)">
         <span style="white-space:nowrap">39.416,-84.557</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-19.38333,29.71667)">
         <span style="white-space:nowrap">-19.383,29.717</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Tamworth</th>
       <td best="true">
        <a onClick="goto(52.63399,-1.69587)">
         <span style="white-space:nowrap">52.634,-1.696</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-31.09048,150.92905)">
         <span style="white-space:nowrap">-31.090,150.929</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.8598,-71.26313)">
         <span style="white-space:nowrap">43.860,-71.263</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.48685,-76.99543)">
         <span style="white-space:nowrap">44.487,-76.995</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-21.04574,143.66852)">
         <span style="white-space:nowrap">-21.046,143.669</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.6482,-78.08083)">
         <span style="white-space:nowrap">37.648,-78.081</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.48342,-76.99944)">
         <span style="white-space:nowrap">44.483,-76.999</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-28.1518,28.92464)">
         <span style="white-space:nowrap">-28.152,28.925</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-21.04713,143.6692)">
         <span style="white-space:nowrap">-21.047,143.669</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-22.80289,29.42492)">
         <span style="white-space:nowrap">-22.803,29.425</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-22.79763,29.41454)">
         <span style="white-space:nowrap">-22.798,29.415</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Nottinghamshire</th>
       <td best="true">
        <a onClick="goto(53.12773,-1.01227)">
         <span style="white-space:nowrap">53.128,-1.012</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.16667,-1)">
         <span style="white-space:nowrap">53.167,-1.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(5.98333,-58.28333)">
         <span style="white-space:nowrap">5.983,-58.283</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Middleton Hall</th>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
