<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([24,121], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([24,121],
			  {
			      title: "Taiwan",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Taiwan"] = marker;
  
    var marker = L.marker([32.32812,118.76384],
			  {
			      title: "Taiwan",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Taiwan"] = marker;
  
    var marker = L.marker([24.15114,120.70541],
			  {
			      title: "Taiwan",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Taiwan"] = marker;
  
    var marker = L.marker([22.82107,111.62993],
			  {
			      title: "Dawan",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Taiwan"] = marker;
  
    var marker = L.marker([23.20917,120.18722],
			  {
			      title: "Dawan",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Taiwan"] = marker;
  
    var marker = L.marker([23.83847,120.96614],
			  {
			      title: "Formosa",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Taiwan"] = marker;
  
    var marker = L.marker([31.98164,118.89597],
			  {
			      title: "Taoyuan",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([24.05943,112.63585],
			  {
			      title: "Taoyuan",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([33.85278,117.77028],
			  {
			      title: "Taoyuan",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([23.60242,113.66186],
			  {
			      title: "Taoyuan",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([29.89075,120.63361],
			  {
			      title: "Taoyuan",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([25.5747,110.177],
			  {
			      title: "Taoyuan",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([27.59315,120.44877],
			  {
			      title: "Taoyuan",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([27.22714,118.63643],
			  {
			      title: "Taoyuan",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([26.99531,117.43202],
			  {
			      title: "Taoyuan",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([32.89935,113.27424],
			  {
			      title: "Taoyuan",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([27.17066,113.76577],
			  {
			      title: "Taoyuan",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([26.7688,115.065],
			  {
			      title: "Taoyuan",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([26.76204,115.93269],
			  {
			      title: "Taoyuan",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([33.51167,112.6233],
			  {
			      title: "Taoyuan",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([32.3669,110.2011],
			  {
			      title: "Taoyuan",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([40.39249,120.25],
			  {
			      title: "Taoyuan",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([35.6292,105.97068],
			  {
			      title: "Taoyuan",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([33.09817,104.83153],
			  {
			      title: "Taoyuan",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([34.3408,108.22661],
			  {
			      title: "Taoyuan",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([26.2283,100.56],
			  {
			      title: "Taoyuan",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Taoyuan"] = marker;
  
    var marker = L.marker([32.32812,118.76384],
			  {
			      title: "Taiwan",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["county of Taiwan"] = marker;
  
    var marker = L.marker([24,121],
			  {
			      title: "Taiwan",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["county of Taiwan"] = marker;
  
    var marker = L.marker([24.15114,120.70541],
			  {
			      title: "Taiwan",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["county of Taiwan"] = marker;
  
    var marker = L.marker([22.82107,111.62993],
			  {
			      title: "Dawan",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["county of Taiwan"] = marker;
  
    var marker = L.marker([23.20917,120.18722],
			  {
			      title: "Dawan",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["county of Taiwan"] = marker;
  
    var marker = L.marker([23.83847,120.96614],
			  {
			      title: "Formosa",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["county of Taiwan"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>New outbreaks of H5N2 have been confirmed in <span onClick="goto_name('Taiwan')" class="loc">Taiwan</span>. Lujhu is a rural township in northwestern <span onClick="goto_name('Taoyuan')" class="loc">Taoyuan</span>. It is located at kilometer 49 of the Highway no.1, close to the Taiwan Taoyuan International Airport (IATA: TPE). Kaohsiung is a county in southern <span onClick="goto_name('Taiwan')" class="loc">Taiwan</span> administered as a <span onClick="goto_name('county of Taiwan')" class="loc">county of Taiwan</span>. Mr Huang Kwo-ching, deputy director of the Bureau of Animal and Plant Health Inspection and Quarantine, however, said, "we took the most stringent measures in dealing with the episode as according to the rules of the World Organisation for Animal Health (OIE), there was no need to slaughter those chickens."</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Taiwan</th>
       <td best="true">
        <a onClick="goto(24,121)">
         <span style="white-space:nowrap">24.000,121.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.32812,118.76384)">
         <span style="white-space:nowrap">32.328,118.764</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(24.15114,120.70541)">
         <span style="white-space:nowrap">24.151,120.705</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.82107,111.62993)">
         <span style="white-space:nowrap">22.821,111.630</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(23.20917,120.18722)">
         <span style="white-space:nowrap">23.209,120.187</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(23.83847,120.96614)">
         <span style="white-space:nowrap">23.838,120.966</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Taoyuan</th>
       <td best="true">
        <a onClick="goto(31.98164,118.89597)">
         <span style="white-space:nowrap">31.982,118.896</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(24.05943,112.63585)">
         <span style="white-space:nowrap">24.059,112.636</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.85278,117.77028)">
         <span style="white-space:nowrap">33.853,117.770</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(23.60242,113.66186)">
         <span style="white-space:nowrap">23.602,113.662</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(29.89075,120.63361)">
         <span style="white-space:nowrap">29.891,120.634</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(25.5747,110.177)">
         <span style="white-space:nowrap">25.575,110.177</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(27.59315,120.44877)">
         <span style="white-space:nowrap">27.593,120.449</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(27.22714,118.63643)">
         <span style="white-space:nowrap">27.227,118.636</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(26.99531,117.43202)">
         <span style="white-space:nowrap">26.995,117.432</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.89935,113.27424)">
         <span style="white-space:nowrap">32.899,113.274</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(27.17066,113.76577)">
         <span style="white-space:nowrap">27.171,113.766</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(26.7688,115.065)">
         <span style="white-space:nowrap">26.769,115.065</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(26.76204,115.93269)">
         <span style="white-space:nowrap">26.762,115.933</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.51167,112.6233)">
         <span style="white-space:nowrap">33.512,112.623</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.3669,110.2011)">
         <span style="white-space:nowrap">32.367,110.201</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.39249,120.25)">
         <span style="white-space:nowrap">40.392,120.250</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.6292,105.97068)">
         <span style="white-space:nowrap">35.629,105.971</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.09817,104.83153)">
         <span style="white-space:nowrap">33.098,104.832</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.3408,108.22661)">
         <span style="white-space:nowrap">34.341,108.227</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(26.2283,100.56)">
         <span style="white-space:nowrap">26.228,100.560</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>county of Taiwan</th>
       <td best="true">
        <a onClick="goto(32.32812,118.76384)">
         <span style="white-space:nowrap">32.328,118.764</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(24,121)">
         <span style="white-space:nowrap">24.000,121.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(24.15114,120.70541)">
         <span style="white-space:nowrap">24.151,120.705</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.82107,111.62993)">
         <span style="white-space:nowrap">22.821,111.630</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(23.20917,120.18722)">
         <span style="white-space:nowrap">23.209,120.187</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(23.83847,120.96614)">
         <span style="white-space:nowrap">23.838,120.966</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
