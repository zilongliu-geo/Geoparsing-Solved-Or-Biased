<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([35.82757,-86.07166], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([35.82757,-86.07166],
			  {
			      title: "Woodbury",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([44.92386,-92.95938],
			  {
			      title: "Woodbury",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([37.18338,-86.63388],
			  {
			      title: "Woodbury",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([32.98374,-84.5827],
			  {
			      title: "Woodbury",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([39.19587,-88.3031],
			  {
			      title: "Woodbury",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([39.90865,-85.89498],
			  {
			      title: "Woodbury",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([33.76295,-79.24671],
			  {
			      title: "Woodbury",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([42.76115,-85.07444],
			  {
			      title: "Woodbury",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([40.22647,-78.36668],
			  {
			      title: "Woodbury",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([39.039,-75.55354],
			  {
			      title: "Woodbury",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([-44.03333,171.2],
			  {
			      title: "Woodbury",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([44.44089,-72.4165],
			  {
			      title: "Woodbury",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([46.67911,-92.95993],
			  {
			      title: "Woodbury",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([41.36454,-74.10598],
			  {
			      title: "Woodbury",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([40.82565,-73.46762],
			  {
			      title: "Woodbury",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([41.54454,-73.209],
			  {
			      title: "Woodbury",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([32.0496,-97.23084],
			  {
			      title: "Woodbury",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([39.83817,-75.15268],
			  {
			      title: "Woodbury",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([50.67664,-3.4016],
			  {
			      title: "Woodbury",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([-44.02834,171.2001],
			  {
			      title: "Woodbury",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["WOODBURY"] = marker;
  
    var marker = L.marker([35.80868,-86.06174],
			  {
			      title: "Cannon",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Cannon County"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Arts center features works by master carver. <span onClick="goto_name('WOODBURY')" class="loc">WOODBURY</span> — The Arts Center of <span onClick="goto_name('Cannon County')" class="loc">Cannon County</span> announces the opening of “An Old Man Has Visions” featuring the wood carvings of James Bunch. This exhibit will be featured in the Marly Berger Gallery through May 9. Working from memory, with only a pocketknife and the occasional handsaw, James Bunch has produced a body of work estimated at 300 pieces which range in subject matter from the familiar tools and mechanics which have been central to his life to elaborate pieces notable for their detail and kinetic features. “His human figures are perhaps most striking, consistently stylized as stiff but expressive individuals sharing hallmarks of character and community,” said Robert Cogswell, director of folklife for the Tennessee Arts Commission. Careful inspection of his work reveals not only fine carving but a commitment to carefully executing every part of his creations. Using the skills of a traditional wood carver, Bunch invents shockingly realistic creations that have to be seen to be believed. Admission to “An Old Man Has Visions” is free. The gallery is open from 10 a.m.-4 p.m. Monday-Saturday. The Arts Center is located on 1424 John Bragg Highway. More information is available by calling (615) 563-2787 or (800) 235-9073.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>WOODBURY</th>
       <td best="true">
        <a onClick="goto(35.82757,-86.07166)">
         <span style="white-space:nowrap">35.828,-86.072</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.92386,-92.95938)">
         <span style="white-space:nowrap">44.924,-92.959</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.18338,-86.63388)">
         <span style="white-space:nowrap">37.183,-86.634</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.98374,-84.5827)">
         <span style="white-space:nowrap">32.984,-84.583</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.19587,-88.3031)">
         <span style="white-space:nowrap">39.196,-88.303</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.90865,-85.89498)">
         <span style="white-space:nowrap">39.909,-85.895</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.76295,-79.24671)">
         <span style="white-space:nowrap">33.763,-79.247</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.76115,-85.07444)">
         <span style="white-space:nowrap">42.761,-85.074</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.22647,-78.36668)">
         <span style="white-space:nowrap">40.226,-78.367</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.039,-75.55354)">
         <span style="white-space:nowrap">39.039,-75.554</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-44.03333,171.2)">
         <span style="white-space:nowrap">-44.033,171.200</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.44089,-72.4165)">
         <span style="white-space:nowrap">44.441,-72.416</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.67911,-92.95993)">
         <span style="white-space:nowrap">46.679,-92.960</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.36454,-74.10598)">
         <span style="white-space:nowrap">41.365,-74.106</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.82565,-73.46762)">
         <span style="white-space:nowrap">40.826,-73.468</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.54454,-73.209)">
         <span style="white-space:nowrap">41.545,-73.209</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.0496,-97.23084)">
         <span style="white-space:nowrap">32.050,-97.231</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.83817,-75.15268)">
         <span style="white-space:nowrap">39.838,-75.153</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.67664,-3.4016)">
         <span style="white-space:nowrap">50.677,-3.402</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-44.02834,171.2001)">
         <span style="white-space:nowrap">-44.028,171.200</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Cannon County</th>
       <td best="true">
        <a onClick="goto(35.80868,-86.06174)">
         <span style="white-space:nowrap">35.809,-86.062</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
