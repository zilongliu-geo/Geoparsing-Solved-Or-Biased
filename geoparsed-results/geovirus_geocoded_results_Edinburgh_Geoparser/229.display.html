<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([39.76,-98.5], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([39.76,-98.5],
			  {
			      title: "United States",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["United States"] = marker;
  
    var marker = L.marker([28.75054,-82.5001],
			  {
			      title: "Florida",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([-33.83333,-55.91667],
			  {
			      title: "Florida",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([-34.09556,-56.21417],
			  {
			      title: "Florida",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([21.52536,-78.22579],
			  {
			      title: "Florida",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([3.3223,-76.2348],
			  {
			      title: "Florida",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([39.4931,-91.78711],
			  {
			      title: "Florida",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([41.33176,-74.35682],
			  {
			      title: "Florida",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([3.3094,-76.18989],
			  {
			      title: "Florida",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([18.36051,-66.56212],
			  {
			      title: "Florida",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([18.36245,-66.56128],
			  {
			      title: "Florida",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([-34.53258,-58.49078],
			  {
			      title: "Florida",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([23.00722,-81.23111],
			  {
			      title: "Florida",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([15.17,-88.81],
			  {
			      title: "Florida",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([-18.11244,-63.90261],
			  {
			      title: "Florida",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([18.62067,-71.86695],
			  {
			      title: "Florida",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([18.40715,-71.68524],
			  {
			      title: "Florida",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([-15.26667,-62.71667],
			  {
			      title: "Florida",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([-24.84207,-61.28412],
			  {
			      title: "Florida",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([-16.58333,-62.91667],
			  {
			      title: "Florida",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([-23.11265,-51.97861],
			  {
			      title: "Flórida",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Florida"] = marker;
  
    var marker = L.marker([39.25024,-111.75103],
			  {
			      title: "Utah",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Utah"] = marker;
  
    var marker = L.marker([40.9842,-90.48791],
			  {
			      title: "Utah",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Utah"] = marker;
  
    var marker = L.marker([40.71118,-78.97642],
			  {
			      title: "Taylorsville",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Utah"] = marker;
  
    var marker = L.marker([35.59035,-88.05837],
			  {
			      title: "Utah",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Utah"] = marker;
  
    var marker = L.marker([39.06089,-84.89801],
			  {
			      title: "Utah",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Utah"] = marker;
  
    var marker = L.marker([41.63338,-83.5166],
			  {
			      title: "East Toledo",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Utah"] = marker;
  
    var marker = L.marker([-4.63645,145.01822],
			  {
			      title: "Utah",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Utah"] = marker;
  
    var marker = L.marker([29.09131,-111.73357],
			  {
			      title: "Ezcalqui",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Utah"] = marker;
  
    var marker = L.marker([40.71256,-78.97503],
			  {
			      title: "Utah",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Utah"] = marker;
  
    var marker = L.marker([40.11995,-111.67031],
			  {
			      title: "Utah",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Utah"] = marker;
  
    var marker = L.marker([-30.2,26.71667],
			  {
			      title: "Utah",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Utah"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>A new report released by the National Wildlife Federation finds that, in the <span onClick="goto_name('United States')" class="loc">United States</span>, the animals of many different species, including species eaten by humans, are contaminated with mercury at levels higher than previously thought. Mercury poisoning in humans, which can result from eating contaminated animals, leads to a wide range of conditions, including kidney and neurological damage, fatigue, vision problems, and tremors. Mercury poisoning in some animals is severe enough to result in death or reduced fecundity. While many people are aware of mercury contamination of fish, more recent studies have found that insects, and animals that eat them, also have high levels of mercury. Felice Stadler, from the National Wildlife Federation, says that "the research shows birds that eat contaminated insects get contaminated themselves. Turkeys and chickens, which humans eat, eat those same contaminated insects, so this is the tip of the iceberg." Confirming previous studies, the report also finds high mercury levels in animals that eat fish. Because of the high mercury levels, 46 of the 50 states have issued advisories for pregnant women and children against eating certain types of fish, including tuna and swordfish. States have also issued other warnings because of mercury-contaminated foods. For example, <span onClick="goto_name('Florida')" class="loc">Florida</span> has issued a warning against eating alligator meat; <span onClick="goto_name('Utah')" class="loc">Utah</span>, against eating shoveler and goldeneye ducks. According to Wikipedia, the free encyclopedia, the National Wildlife Federation is the largest American conservation organization. The report, released on Tuesday, is based on 65 different scientific studies conducted by more than 20 scientists. It highlights that, in the <span onClick="goto_name('United States')" class="loc">United States</span>, mercury is accumulating in a diversity of species, including species of fish, mammals, birds, reptiles, and amphibians, and in a diversity of environments, including freshwater, marine, and forest habitats. Some of the animals in which mercury is accumulating include songbirds, alligators, turtles, bats, otters, polar bears, mink, ducks, loons, and bald eagles. Felice Stadler says that the report "underscored how pervasive mercury contamination has become. Nearly every aspect of our food web has been contaminated. It's difficult to find an ecosystem that's not contaminated, whether it's ocean or forest or coastal waters or wetlands." According to Wikipedia, mercury exposure in humans can result in brain damage, birth defects, severe neurological consequences, mercurial ptyalism, Minamata disease, and possibly autistic behaviors. In the <span onClick="goto_name('United States')" class="loc">United States</span> alone, mercury pollution is about 100 tons per year. Primary sources of pollution include coal-burning power plants, waste water treatment plants, and waste incinerators.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>United States</th>
       <td best="true">
        <a onClick="goto(39.76,-98.5)">
         <span style="white-space:nowrap">39.760,-98.500</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Florida</th>
       <td best="true">
        <a onClick="goto(28.75054,-82.5001)">
         <span style="white-space:nowrap">28.751,-82.500</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.83333,-55.91667)">
         <span style="white-space:nowrap">-33.833,-55.917</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-34.09556,-56.21417)">
         <span style="white-space:nowrap">-34.096,-56.214</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(21.52536,-78.22579)">
         <span style="white-space:nowrap">21.525,-78.226</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(3.3223,-76.2348)">
         <span style="white-space:nowrap">3.322,-76.235</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.4931,-91.78711)">
         <span style="white-space:nowrap">39.493,-91.787</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.33176,-74.35682)">
         <span style="white-space:nowrap">41.332,-74.357</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(3.3094,-76.18989)">
         <span style="white-space:nowrap">3.309,-76.190</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.36051,-66.56212)">
         <span style="white-space:nowrap">18.361,-66.562</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.36245,-66.56128)">
         <span style="white-space:nowrap">18.362,-66.561</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-34.53258,-58.49078)">
         <span style="white-space:nowrap">-34.533,-58.491</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(23.00722,-81.23111)">
         <span style="white-space:nowrap">23.007,-81.231</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(15.17,-88.81)">
         <span style="white-space:nowrap">15.170,-88.810</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-18.11244,-63.90261)">
         <span style="white-space:nowrap">-18.112,-63.903</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.62067,-71.86695)">
         <span style="white-space:nowrap">18.621,-71.867</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.40715,-71.68524)">
         <span style="white-space:nowrap">18.407,-71.685</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-15.26667,-62.71667)">
         <span style="white-space:nowrap">-15.267,-62.717</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-24.84207,-61.28412)">
         <span style="white-space:nowrap">-24.842,-61.284</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-16.58333,-62.91667)">
         <span style="white-space:nowrap">-16.583,-62.917</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-23.11265,-51.97861)">
         <span style="white-space:nowrap">-23.113,-51.979</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Utah</th>
       <td best="true">
        <a onClick="goto(39.25024,-111.75103)">
         <span style="white-space:nowrap">39.250,-111.751</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.9842,-90.48791)">
         <span style="white-space:nowrap">40.984,-90.488</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.71118,-78.97642)">
         <span style="white-space:nowrap">40.711,-78.976</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.59035,-88.05837)">
         <span style="white-space:nowrap">35.590,-88.058</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.06089,-84.89801)">
         <span style="white-space:nowrap">39.061,-84.898</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.63338,-83.5166)">
         <span style="white-space:nowrap">41.633,-83.517</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-4.63645,145.01822)">
         <span style="white-space:nowrap">-4.636,145.018</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(29.09131,-111.73357)">
         <span style="white-space:nowrap">29.091,-111.734</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.71256,-78.97503)">
         <span style="white-space:nowrap">40.713,-78.975</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.11995,-111.67031)">
         <span style="white-space:nowrap">40.120,-111.670</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-30.2,26.71667)">
         <span style="white-space:nowrap">-30.200,26.717</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
