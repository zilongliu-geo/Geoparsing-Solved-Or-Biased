<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([32.43158,-80.66983], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([32.43158,-80.66983],
			  {
			      title: "Beaufort",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([5.3473,115.7455],
			  {
			      title: "Beaufort",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([34.71822,-76.66382],
			  {
			      title: "Beaufort",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([5.33333,115.66667],
			  {
			      title: "Beaufort",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([40.81788,-74.32959],
			  {
			      title: "Beaufort",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([38.42088,-91.18904],
			  {
			      title: "Beaufort",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([46.57356,5.43873],
			  {
			      title: "Beaufort",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([45.71915,6.57331],
			  {
			      title: "Beaufort",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([-34.08333,138.2],
			  {
			      title: "Beaufort",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([-37.42996,143.38347],
			  {
			      title: "Beaufort",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([49.83583,6.29167],
			  {
			      title: "Beaufort",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([43.29803,2.75826],
			  {
			      title: "Beaufort",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([43.45922,1.11239],
			  {
			      title: "Beaufort",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([45.32512,5.12124],
			  {
			      title: "Beaufort",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([50.21594,3.96331],
			  {
			      title: "Beaufort",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([18.23417,-77.95007],
			  {
			      title: "Beaufort",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([45.94579,7.24846],
			  {
			      title: "Beaufort",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([45.71806,6.575],
			  {
			      title: "Beaufort",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([43.45861,1.11139],
			  {
			      title: "Beaufort",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([51.79999,-3.2199],
			  {
			      title: "Beaufort",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Beaufort"] = marker;
  
    var marker = L.marker([35.50069,-80.00032],
			  {
			      title: "North Carolina",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["North Carolina"] = marker;
  
    var marker = L.marker([32.35706,-80.69217],
			  {
			      title: "Beaufort",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Beaufort County"] = marker;
  
    var marker = L.marker([35.48583,-76.84516],
			  {
			      title: "Beaufort",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Beaufort County"] = marker;
  
    var marker = L.marker([34.00043,-81.00009],
			  {
			      title: "South Carolina",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["South Carolina"] = marker;
  
    var marker = L.marker([39.76,-98.5],
			  {
			      title: "United States",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["United States"] = marker;
  
    var marker = L.marker([32.77657,-79.93092],
			  {
			      title: "Charleston",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([38.34982,-81.63262],
			  {
			      title: "Charleston",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([36.12016,-77.37552],
			  {
			      title: "Charleston",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([40.039,-74.89128],
			  {
			      title: "Charleston",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([40.53677,-74.23737],
			  {
			      title: "Charleston",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([37.22477,-87.67195],
			  {
			      title: "Charleston",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([35.49591,-89.50896],
			  {
			      title: "Charleston",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([42.84591,-74.34124],
			  {
			      title: "Charleston",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([40.59087,-91.53127],
			  {
			      title: "Charleston",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([35.29704,-94.03632],
			  {
			      title: "Charleston",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([37.8653,-100.56487],
			  {
			      title: "Charleston",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([45.08506,-69.04059],
			  {
			      title: "Charleston",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([-41.90589,171.4383],
			  {
			      title: "Charleston",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([-34.91667,138.9],
			  {
			      title: "Charleston",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([44.17349,-64.65963],
			  {
			      title: "Charleston",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([41.67074,-115.51063],
			  {
			      title: "Charleston",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([56.59896,-3.00699],
			  {
			      title: "Charleston",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([-41.90624,171.4383],
			  {
			      title: "Charleston",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([48.3832,-53.66479],
			  {
			      title: "Charleston",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([44.56681,-75.99937],
			  {
			      title: "Charleston",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Charleston"] = marker;
  
    var marker = L.marker([34.00043,-81.00009],
			  {
			      title: "South Carolina",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["SC Metropolitan"] = marker;
  
    var marker = L.marker([-27,-50],
			  {
			      title: "Santa Catarina",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["SC Metropolitan"] = marker;
  
    var marker = L.marker([-49,-70],
			  {
			      title: "Santa Cruz",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["SC Metropolitan"] = marker;
  
    var marker = L.marker([38.0218,-1.05749],
			  {
			      title: "Santa Cruz",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["SC Metropolitan"] = marker;
  
    var marker = L.marker([32.3352,-80.69233],
			  {
			      title: "Parris Island",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Port Royal Island"] = marker;
  
    var marker = L.marker([32.43547,-80.73872],
			  {
			      title: "Port Royal Island",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Port Royal Island"] = marker;
  
    var marker = L.marker([32.3352,-80.69233],
			  {
			      title: "Parris Island",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Parris Island"] = marker;
  
    var marker = L.marker([39.76,-98.5],
			  {
			      title: "United States",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["U.S."] = marker;
  
    var marker = L.marker([49.1,1.96667],
			  {
			      title: "Us",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["U.S."] = marker;
  
    var marker = L.marker([16.09233,-16.37397],
			  {
			      title: "Us",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["U.S."] = marker;
  
    var marker = L.marker([14.95,-91.21667],
			  {
			      title: "Us",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["U.S."] = marker;
  
    var marker = L.marker([-2.71024,132.16831],
			  {
			      title: "Us",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["U.S."] = marker;
  
    var marker = L.marker([52.08695,92.48051],
			  {
			      title: "Us",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["U.S."] = marker;
  
    var marker = L.marker([-27.7,18.71667],
			  {
			      title: "Us",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["U.S."] = marker;
  
    var marker = L.marker([49.1,1.96667],
			  {
			      title: "Us",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["U.S."] = marker;
  
    var marker = L.marker([63.43997,48.68396],
			  {
			      title: "Us",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["U.S."] = marker;
  
    var marker = L.marker([62.49536,11.22807],
			  {
			      title: "Os",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["U.S."] = marker;
  
    var marker = L.marker([42.95,17.13333],
			  {
			      title: "Uvala Luka",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["U.S."] = marker;
  
    var marker = L.marker([-27.38333,18.65],
			  {
			      title: "Us",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["U.S."] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>
     <span onClick="goto_name('Beaufort')" class="loc">Beaufort</span> (/ˈbjuːfərt/ BEW-fərt, a different pronunciation from that used by the city with the same name in <span onClick="goto_name('North Carolina')" class="loc">North Carolina</span>) is a city in and the county seat of <span onClick="goto_name('Beaufort County')" class="loc">Beaufort County</span>, <span onClick="goto_name('South Carolina')" class="loc">South Carolina</span>, <span onClick="goto_name('United States')" class="loc">United States</span>. Chartered in 1711, it is the second-oldest city in <span onClick="goto_name('South Carolina')" class="loc">South Carolina</span>, behind <span onClick="goto_name('Charleston')" class="loc">Charleston</span>. The city's population was 12,361 in the 2010 census. It is a primary city within the Hilton Head Island-Bluffton-Beaufort, <span onClick="goto_name('SC Metropolitan')" class="loc">SC Metropolitan</span> Statistical Area. <span onClick="goto_name('Beaufort')" class="loc">Beaufort</span> is located on <span onClick="goto_name('Port Royal Island')" class="loc">Port Royal Island</span>, in the heart of the Sea Islands and <span onClick="goto_name('South Carolina')" class="loc">South Carolina</span> Lowcountry. The city is renowned for its scenic location and for maintaining a historic character by preservation of its antebellum architecture. The city is also known for its military establishments, being located in close proximity to <span onClick="goto_name('Parris Island')" class="loc">Parris Island</span> and a <span onClick="goto_name('U.S.')" class="loc">U.S.</span> naval hospital, in addition to being home of the Marine Corps Air Station Beaufort. The city has been featured in the New York Times, and named "Best Small Southern Town" by Southern Living, a "Top 25 Small City Arts Destination" by American Style, and a "Top 50 Adventure Town" by National Geographic Adventure.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Beaufort</th>
       <td best="true">
        <a onClick="goto(32.43158,-80.66983)">
         <span style="white-space:nowrap">32.432,-80.670</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(5.3473,115.7455)">
         <span style="white-space:nowrap">5.347,115.746</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.71822,-76.66382)">
         <span style="white-space:nowrap">34.718,-76.664</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(5.33333,115.66667)">
         <span style="white-space:nowrap">5.333,115.667</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.81788,-74.32959)">
         <span style="white-space:nowrap">40.818,-74.330</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.42088,-91.18904)">
         <span style="white-space:nowrap">38.421,-91.189</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.57356,5.43873)">
         <span style="white-space:nowrap">46.574,5.439</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.71915,6.57331)">
         <span style="white-space:nowrap">45.719,6.573</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-34.08333,138.2)">
         <span style="white-space:nowrap">-34.083,138.200</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-37.42996,143.38347)">
         <span style="white-space:nowrap">-37.430,143.383</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(49.83583,6.29167)">
         <span style="white-space:nowrap">49.836,6.292</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.29803,2.75826)">
         <span style="white-space:nowrap">43.298,2.758</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.45922,1.11239)">
         <span style="white-space:nowrap">43.459,1.112</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.32512,5.12124)">
         <span style="white-space:nowrap">45.325,5.121</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.21594,3.96331)">
         <span style="white-space:nowrap">50.216,3.963</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.23417,-77.95007)">
         <span style="white-space:nowrap">18.234,-77.950</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.94579,7.24846)">
         <span style="white-space:nowrap">45.946,7.248</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.71806,6.575)">
         <span style="white-space:nowrap">45.718,6.575</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.45861,1.11139)">
         <span style="white-space:nowrap">43.459,1.111</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(51.79999,-3.2199)">
         <span style="white-space:nowrap">51.800,-3.220</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>North Carolina</th>
       <td best="true">
        <a onClick="goto(35.50069,-80.00032)">
         <span style="white-space:nowrap">35.501,-80.000</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Beaufort County</th>
       <td best="true">
        <a onClick="goto(32.35706,-80.69217)">
         <span style="white-space:nowrap">32.357,-80.692</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.48583,-76.84516)">
         <span style="white-space:nowrap">35.486,-76.845</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>South Carolina</th>
       <td best="true">
        <a onClick="goto(34.00043,-81.00009)">
         <span style="white-space:nowrap">34.000,-81.000</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>United States</th>
       <td best="true">
        <a onClick="goto(39.76,-98.5)">
         <span style="white-space:nowrap">39.760,-98.500</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Charleston</th>
       <td best="true">
        <a onClick="goto(32.77657,-79.93092)">
         <span style="white-space:nowrap">32.777,-79.931</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.34982,-81.63262)">
         <span style="white-space:nowrap">38.350,-81.633</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.12016,-77.37552)">
         <span style="white-space:nowrap">36.120,-77.376</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.039,-74.89128)">
         <span style="white-space:nowrap">40.039,-74.891</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.53677,-74.23737)">
         <span style="white-space:nowrap">40.537,-74.237</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.22477,-87.67195)">
         <span style="white-space:nowrap">37.225,-87.672</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.49591,-89.50896)">
         <span style="white-space:nowrap">35.496,-89.509</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.84591,-74.34124)">
         <span style="white-space:nowrap">42.846,-74.341</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.59087,-91.53127)">
         <span style="white-space:nowrap">40.591,-91.531</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.29704,-94.03632)">
         <span style="white-space:nowrap">35.297,-94.036</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.8653,-100.56487)">
         <span style="white-space:nowrap">37.865,-100.565</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.08506,-69.04059)">
         <span style="white-space:nowrap">45.085,-69.041</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-41.90589,171.4383)">
         <span style="white-space:nowrap">-41.906,171.438</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-34.91667,138.9)">
         <span style="white-space:nowrap">-34.917,138.900</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.17349,-64.65963)">
         <span style="white-space:nowrap">44.173,-64.660</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.67074,-115.51063)">
         <span style="white-space:nowrap">41.671,-115.511</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(56.59896,-3.00699)">
         <span style="white-space:nowrap">56.599,-3.007</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-41.90624,171.4383)">
         <span style="white-space:nowrap">-41.906,171.438</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(48.3832,-53.66479)">
         <span style="white-space:nowrap">48.383,-53.665</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.56681,-75.99937)">
         <span style="white-space:nowrap">44.567,-75.999</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>SC Metropolitan</th>
       <td best="true">
        <a onClick="goto(34.00043,-81.00009)">
         <span style="white-space:nowrap">34.000,-81.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-27,-50)">
         <span style="white-space:nowrap">-27.000,-50.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-49,-70)">
         <span style="white-space:nowrap">-49.000,-70.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.0218,-1.05749)">
         <span style="white-space:nowrap">38.022,-1.057</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Port Royal Island</th>
       <td best="true">
        <a onClick="goto(32.3352,-80.69233)">
         <span style="white-space:nowrap">32.335,-80.692</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.43547,-80.73872)">
         <span style="white-space:nowrap">32.435,-80.739</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Parris Island</th>
       <td best="true">
        <a onClick="goto(32.3352,-80.69233)">
         <span style="white-space:nowrap">32.335,-80.692</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>U.S.</th>
       <td best="true">
        <a onClick="goto(39.76,-98.5)">
         <span style="white-space:nowrap">39.760,-98.500</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(49.1,1.96667)">
         <span style="white-space:nowrap">49.100,1.967</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(16.09233,-16.37397)">
         <span style="white-space:nowrap">16.092,-16.374</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(14.95,-91.21667)">
         <span style="white-space:nowrap">14.950,-91.217</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-2.71024,132.16831)">
         <span style="white-space:nowrap">-2.710,132.168</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.08695,92.48051)">
         <span style="white-space:nowrap">52.087,92.481</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-27.7,18.71667)">
         <span style="white-space:nowrap">-27.700,18.717</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(49.1,1.96667)">
         <span style="white-space:nowrap">49.100,1.967</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(63.43997,48.68396)">
         <span style="white-space:nowrap">63.440,48.684</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(62.49536,11.22807)">
         <span style="white-space:nowrap">62.495,11.228</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.95,17.13333)">
         <span style="white-space:nowrap">42.950,17.133</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-27.38333,18.65)">
         <span style="white-space:nowrap">-27.383,18.650</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
