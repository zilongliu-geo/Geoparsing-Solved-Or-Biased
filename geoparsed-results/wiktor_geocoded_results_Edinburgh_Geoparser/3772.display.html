<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([34.50034,-106.00085], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([34.50034,-106.00085],
			  {
			      title: "New Mexico",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([39.16976,-91.88295],
			  {
			      title: "Mexico",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([41.79364,-87.69172],
			  {
			      title: "Mexico",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([34.53259,-83.98491],
			  {
			      title: "Dahlonega",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([39.60344,-76.94887],
			  {
			      title: "New Mexico",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([45.35977,-71.45703],
			  {
			      title: "New Mexico",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([-30.7424,150.6185],
			  {
			      title: "New Mexico",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([35.25254,-106.20363],
			  {
			      title: "New Mexico",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([25.20162,55.15157],
			  {
			      title: "New Mexico",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([33.47095,-85.25217],
			  {
			      title: "New Mexico",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([-17.93333,31.18333],
			  {
			      title: "New Mexico",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([-30.30759,120.9584],
			  {
			      title: "New Mexico",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["New Mexico"] = marker;
  
    var marker = L.marker([39.76,-98.5],
			  {
			      title: "United States",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["United States"] = marker;
  
    var marker = L.marker([31.75872,-106.48693],
			  {
			      title: "El Paso",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([35.1262,-92.09543],
			  {
			      title: "El Paso",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([28.75596,-111.27372],
			  {
			      title: "El Paso",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([26.67471,-108.82274],
			  {
			      title: "El Paso",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([20.57778,-99.63917],
			  {
			      title: "El Paso",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([24.47378,-106.73287],
			  {
			      title: "El Paso",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([21.45293,-99.61161],
			  {
			      title: "El Paso",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([40.7392,-89.01646],
			  {
			      title: "El Paso",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([44.76969,-92.34408],
			  {
			      title: "El Paso",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([18.97889,-97.19],
			  {
			      title: "El Paso",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([19.83417,-102.63722],
			  {
			      title: "El Paso",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([9.65724,-73.74685],
			  {
			      title: "El Paso",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([16.21667,-92.63333],
			  {
			      title: "El Paso",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([28.65007,-17.88274],
			  {
			      title: "El Paso",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([9.65843,-73.71418],
			  {
			      title: "El Paso",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([20.83667,-76.35222],
			  {
			      title: "El Paso",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([22.76667,-83.61667],
			  {
			      title: "El Paso",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([20.7176,-90.4467],
			  {
			      title: "El Paso",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([22.65,-83.13333],
			  {
			      title: "El Paso",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([9.2931,-63.47187],
			  {
			      title: "El Paso",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["El Paso"] = marker;
  
    var marker = L.marker([31.25044,-99.25061],
			  {
			      title: "Texas",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([20.02556,-99.19556],
			  {
			      title: "Texas",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([33.92983,-87.67863],
			  {
			      title: "Texas",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([30.17186,-91.13816],
			  {
			      title: "Texas",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([28.51149,-100.41513],
			  {
			      title: "Texas",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([30.88602,-89.272],
			  {
			      title: "Texas",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([33.24095,-85.19883],
			  {
			      title: "Texas",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([37.65562,-85.11024],
			  {
			      title: "Texas",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([41.42366,-83.95161],
			  {
			      title: "Texas",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([41.53507,-77.25275],
			  {
			      title: "Texas",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([42.16537,-71.89229],
			  {
			      title: "Texas",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([43.98507,-75.50491],
			  {
			      title: "Texas",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([43.51285,-76.25104],
			  {
			      title: "Texas",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([40.36066,-74.36932],
			  {
			      title: "Texas",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([20.87499,-87.76368],
			  {
			      title: "Texas",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([-17.61667,-63.16667],
			  {
			      title: "Texas",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([-2.91667,-79.86667],
			  {
			      title: "Texas",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([39.46372,-76.64358],
			  {
			      title: "Texas",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([21.41211,-101.93667],
			  {
			      title: "Texas",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([44.41784,-71.82454],
			  {
			      title: "Texas",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Texas"] = marker;
  
    var marker = L.marker([32.61316,-105.74168],
			  {
			      title: "Otero",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Otero County"] = marker;
  
    var marker = L.marker([37.9027,-103.71645],
			  {
			      title: "Otero",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Otero County"] = marker;
  
    var marker = L.marker([31.90288,-106.49388],
			  {
			      title: "Franklin Mountains",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Franklin Mountains"] = marker;
  
    var marker = L.marker([69.13427,-145.51306],
			  {
			      title: "Franklin Mountains",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Franklin Mountains"] = marker;
  
    var marker = L.marker([-44.86837,167.65005],
			  {
			      title: "FRANKLIN MOUNTAINS",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Franklin Mountains"] = marker;
  
    var marker = L.marker([-44.96837,167.76005],
			  {
			      title: "FRANKLIN MOUNTAINS",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Franklin Mountains"] = marker;
  
    var marker = L.marker([64.2502,-124.00344],
			  {
			      title: "Franklin Mountains",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Franklin Mountains"] = marker;
  
    var marker = L.marker([-44.91667,167.75],
			  {
			      title: "Franklin Mountains",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Franklin Mountains"] = marker;
  
    var marker = L.marker([69.16667,-145.16667],
			  {
			      title: "Franklin Mountains",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Franklin Mountains"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Chaparral is an unincorporated community and census-designated place (CDP) in Doña Ana and Otero counties, <span onClick="goto_name('New Mexico')" class="loc">New Mexico</span>, <span onClick="goto_name('United States')" class="loc">United States</span>. The population was 14,631 at the 2010 census. Chaparral is primarily a bedroom community for the neighboring city of <span onClick="goto_name('El Paso')" class="loc">El Paso</span>, <span onClick="goto_name('Texas')" class="loc">Texas</span>, and the neighboring military installations of White Sands Missile Range and Fort Bliss. It is officially part of the Las Cruces Metropolitan Statistical Area. Chaparral is located in the southeast corner of Doña <span onClick="goto_name('Ana County')" class="loc">Ana County</span> and the southwest corner of <span onClick="goto_name('Otero County')" class="loc">Otero County</span> at 32°2′21″N 106°25′47″W (32.039072, -106.429630). Its southern border is the <span onClick="goto_name('Texas')" class="loc">Texas</span> state line, the northern limit of the city of <span onClick="goto_name('El Paso')" class="loc">El Paso</span>. Chaparral is geographically isolated from the rest of Doña <span onClick="goto_name('Ana County')" class="loc">Ana County</span> due to its location on the east side of the <span onClick="goto_name('Franklin Mountains')" class="loc">Franklin Mountains</span>. Downtown <span onClick="goto_name('El Paso')" class="loc">El Paso</span>, <span onClick="goto_name('Texas')" class="loc">Texas</span>, is 20 miles (32 km) to the south, Fort Bliss in <span onClick="goto_name('Texas')" class="loc">Texas</span> is 19 miles (31 km) to the south, and the White Sands Missile Range is 30 miles (48 km) to the north. According to the <span onClick="goto_name('United States')" class="loc">United States</span> Census Bureau, the Chaparral CDP has a total area of 59.2 square miles (153.4 km2), all of it land.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>New Mexico</th>
       <td best="true">
        <a onClick="goto(34.50034,-106.00085)">
         <span style="white-space:nowrap">34.500,-106.001</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.16976,-91.88295)">
         <span style="white-space:nowrap">39.170,-91.883</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.79364,-87.69172)">
         <span style="white-space:nowrap">41.794,-87.692</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.53259,-83.98491)">
         <span style="white-space:nowrap">34.533,-83.985</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.60344,-76.94887)">
         <span style="white-space:nowrap">39.603,-76.949</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.35977,-71.45703)">
         <span style="white-space:nowrap">45.360,-71.457</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-30.7424,150.6185)">
         <span style="white-space:nowrap">-30.742,150.619</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.25254,-106.20363)">
         <span style="white-space:nowrap">35.253,-106.204</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(25.20162,55.15157)">
         <span style="white-space:nowrap">25.202,55.152</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.47095,-85.25217)">
         <span style="white-space:nowrap">33.471,-85.252</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-17.93333,31.18333)">
         <span style="white-space:nowrap">-17.933,31.183</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-30.30759,120.9584)">
         <span style="white-space:nowrap">-30.308,120.958</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>United States</th>
       <td best="true">
        <a onClick="goto(39.76,-98.5)">
         <span style="white-space:nowrap">39.760,-98.500</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>El Paso</th>
       <td best="true">
        <a onClick="goto(31.75872,-106.48693)">
         <span style="white-space:nowrap">31.759,-106.487</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.1262,-92.09543)">
         <span style="white-space:nowrap">35.126,-92.095</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(28.75596,-111.27372)">
         <span style="white-space:nowrap">28.756,-111.274</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(26.67471,-108.82274)">
         <span style="white-space:nowrap">26.675,-108.823</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(20.57778,-99.63917)">
         <span style="white-space:nowrap">20.578,-99.639</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(24.47378,-106.73287)">
         <span style="white-space:nowrap">24.474,-106.733</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(21.45293,-99.61161)">
         <span style="white-space:nowrap">21.453,-99.612</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.7392,-89.01646)">
         <span style="white-space:nowrap">40.739,-89.016</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.76969,-92.34408)">
         <span style="white-space:nowrap">44.770,-92.344</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.97889,-97.19)">
         <span style="white-space:nowrap">18.979,-97.190</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(19.83417,-102.63722)">
         <span style="white-space:nowrap">19.834,-102.637</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(9.65724,-73.74685)">
         <span style="white-space:nowrap">9.657,-73.747</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(16.21667,-92.63333)">
         <span style="white-space:nowrap">16.217,-92.633</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(28.65007,-17.88274)">
         <span style="white-space:nowrap">28.650,-17.883</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(9.65843,-73.71418)">
         <span style="white-space:nowrap">9.658,-73.714</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(20.83667,-76.35222)">
         <span style="white-space:nowrap">20.837,-76.352</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.76667,-83.61667)">
         <span style="white-space:nowrap">22.767,-83.617</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(20.7176,-90.4467)">
         <span style="white-space:nowrap">20.718,-90.447</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.65,-83.13333)">
         <span style="white-space:nowrap">22.650,-83.133</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(9.2931,-63.47187)">
         <span style="white-space:nowrap">9.293,-63.472</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Texas</th>
       <td best="true">
        <a onClick="goto(31.25044,-99.25061)">
         <span style="white-space:nowrap">31.250,-99.251</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(20.02556,-99.19556)">
         <span style="white-space:nowrap">20.026,-99.196</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.92983,-87.67863)">
         <span style="white-space:nowrap">33.930,-87.679</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(30.17186,-91.13816)">
         <span style="white-space:nowrap">30.172,-91.138</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(28.51149,-100.41513)">
         <span style="white-space:nowrap">28.511,-100.415</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(30.88602,-89.272)">
         <span style="white-space:nowrap">30.886,-89.272</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.24095,-85.19883)">
         <span style="white-space:nowrap">33.241,-85.199</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.65562,-85.11024)">
         <span style="white-space:nowrap">37.656,-85.110</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.42366,-83.95161)">
         <span style="white-space:nowrap">41.424,-83.952</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.53507,-77.25275)">
         <span style="white-space:nowrap">41.535,-77.253</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.16537,-71.89229)">
         <span style="white-space:nowrap">42.165,-71.892</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.98507,-75.50491)">
         <span style="white-space:nowrap">43.985,-75.505</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.51285,-76.25104)">
         <span style="white-space:nowrap">43.513,-76.251</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.36066,-74.36932)">
         <span style="white-space:nowrap">40.361,-74.369</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(20.87499,-87.76368)">
         <span style="white-space:nowrap">20.875,-87.764</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-17.61667,-63.16667)">
         <span style="white-space:nowrap">-17.617,-63.167</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-2.91667,-79.86667)">
         <span style="white-space:nowrap">-2.917,-79.867</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.46372,-76.64358)">
         <span style="white-space:nowrap">39.464,-76.644</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(21.41211,-101.93667)">
         <span style="white-space:nowrap">21.412,-101.937</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.41784,-71.82454)">
         <span style="white-space:nowrap">44.418,-71.825</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Ana County</th>
      </tr>
      <tr>
       <th>Otero County</th>
       <td best="true">
        <a onClick="goto(32.61316,-105.74168)">
         <span style="white-space:nowrap">32.613,-105.742</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.9027,-103.71645)">
         <span style="white-space:nowrap">37.903,-103.716</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Franklin Mountains</th>
       <td best="true">
        <a onClick="goto(31.90288,-106.49388)">
         <span style="white-space:nowrap">31.903,-106.494</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(69.13427,-145.51306)">
         <span style="white-space:nowrap">69.134,-145.513</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-44.86837,167.65005)">
         <span style="white-space:nowrap">-44.868,167.650</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-44.96837,167.76005)">
         <span style="white-space:nowrap">-44.968,167.760</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(64.2502,-124.00344)">
         <span style="white-space:nowrap">64.250,-124.003</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-44.91667,167.75)">
         <span style="white-space:nowrap">-44.917,167.750</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(69.16667,-145.16667)">
         <span style="white-space:nowrap">69.167,-145.167</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
