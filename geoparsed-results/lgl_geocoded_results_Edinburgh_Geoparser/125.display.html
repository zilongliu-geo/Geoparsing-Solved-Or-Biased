<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([32.76323,-80.2501], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([32.76323,-80.2501],
			  {
			      title: "Ravenel",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Ravenel"] = marker;
  
    var marker = L.marker([49.51523,2.50192],
			  {
			      title: "Ravenel",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Ravenel"] = marker;
  
    var marker = L.marker([49.51556,2.50111],
			  {
			      title: "Ravenel",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Ravenel"] = marker;
  
    var marker = L.marker([43.77925,11.24626],
			  {
			      title: "Florence",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([34.19543,-79.76256],
			  {
			      title: "Florence",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([34.79981,-87.67725],
			  {
			      title: "Florence",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([38.99895,-84.62661],
			  {
			      title: "Florence",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([35.91868,-86.46833],
			  {
			      title: "Florence",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([39.31038,-77.10859],
			  {
			      title: "Florence",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([40.43229,-80.43368],
			  {
			      title: "Florence",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([32.15348,-90.1312],
			  {
			      title: "Florence",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([40.11955,-74.80544],
			  {
			      title: "Florence",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([38.39028,-105.1186],
			  {
			      title: "Florence",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([33.97446,-118.24813],
			  {
			      title: "Florence",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([45.05468,-97.3298],
			  {
			      title: "Florence",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([42.33564,-72.67176],
			  {
			      title: "Florence",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([30.8413,-97.79363],
			  {
			      title: "Florence",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([43.4384,-75.74935],
			  {
			      title: "Florence",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([48.22065,-122.33182],
			  {
			      title: "Florence",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([46.25985,-60.26586],
			  {
			      title: "Florence",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([43.71645,-73.0615],
			  {
			      title: "Florence",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([46.63159,-114.079],
			  {
			      title: "Florence",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([45.50101,-116.02847],
			  {
			      title: "Florence",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Florence"] = marker;
  
    var marker = L.marker([32.74917,-79.94202],
			  {
			      title: "Charleston",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Charleston County"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Funding to dry up on Friday for Charles Webb Center. The Charles Webb Center for developmentally disabled kids, which has survived on donations for nearly three months, is hoping for another miracle. The center has funding to stay open through Friday. It may be able to secure a grant this week to keep it running through April 3. The community has kept the center afloat since Jan. 1 with more than $30,000 in donations. The state Department of Disabilities and Special Needs cut $150,000 in annual funding for the center in response to a General Assembly mandate to trim $21.5 million or 11.2 percent from its budget. On the state House floor last week, Rep. Wendell Gilliard, D-Charleston, tried unsuccessfully to restore $250,000 in funding for the Webb Center and another center for developmentally disabled children in Anderson. "They knocked it down," Gilliard said. "I'm still soliciting private donations to keep the Webb Center afloat. It's an invaluable service to our children," he said. No one knows that better than Mindy Miller of <span onClick="goto_name('Ravenel')" class="loc">Ravenel</span>, whose son, Parker, 8, has Fragile X syndrome and is developmentally delayed by about three years. He has been at the Webb Center for nearly seven years. Miller and the other parents of the 30 children at the center said there is no place like it. "You hang on to every day and hope that a miracle happens. It's kind of wearing me down. It's frustrating, an emotional roller coaster," Miller said. educable mentally disabled children at Drayton Hall Elementary School. After school, he takes a bus to the Webb Center on Evergreen Street, where he is picked up when his parents leave their business, Miller Signs, about 6 p.m. Several of the parents have said that if the Webb Center closes, it could mean they would have to quit their jobs to stay home to care for a special needs child. Parents learned Nov. 13 that the center would close at the end of the year because of state budget cuts. Kids at the center range from infants to age 10 and have developmental problems such as autism and mental retardation. The center has a staff of eight. The state Department of Disabilities and Special Needs cut funds for five child day-care programs, including the Webb Center. State Sen. Robert Ford, D-Charleston, said he is optimistic about restoring state funding to the Webb Center in the new budget year beginning July 1. "We're almost sure that we're going to be able to do it," Ford said. The state money enables the center to receive matching Medicaid funds to meet its budget, officials said. On March 6, Ford, Gilliard and Senate President Pro Tem Glenn McConnell, R-Charleston, donated a total of $5,000 to the center. Ford said he has spoken with Sen. Finance Committee Chairman Hugh Leatherman, a Republican from <span onClick="goto_name('Florence')" class="loc">Florence</span>, who has been impressed with support for the center from local legislators. Ford said that House Speaker Bobby Harrell, R-Charleston, can pave the way for restoring center funding in the House. Ford said he thinks that the center also could be the beneficiary of federal stimulus money. Meanwhile, the Webb Center will be living from week-to-week on the largesse of the community. "I can definitely go through next week. We're hoping for another two weeks," said Rick Magner, director of the Disabilities Board of <span onClick="goto_name('Charleston County')" class="loc">Charleston County</span>. The center's weekly operating cost is about $5,000, he said.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Ravenel</th>
       <td best="true">
        <a onClick="goto(32.76323,-80.2501)">
         <span style="white-space:nowrap">32.763,-80.250</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(49.51523,2.50192)">
         <span style="white-space:nowrap">49.515,2.502</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(49.51556,2.50111)">
         <span style="white-space:nowrap">49.516,2.501</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Florence</th>
       <td best="true">
        <a onClick="goto(43.77925,11.24626)">
         <span style="white-space:nowrap">43.779,11.246</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.19543,-79.76256)">
         <span style="white-space:nowrap">34.195,-79.763</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.79981,-87.67725)">
         <span style="white-space:nowrap">34.800,-87.677</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.99895,-84.62661)">
         <span style="white-space:nowrap">38.999,-84.627</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.91868,-86.46833)">
         <span style="white-space:nowrap">35.919,-86.468</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.31038,-77.10859)">
         <span style="white-space:nowrap">39.310,-77.109</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.43229,-80.43368)">
         <span style="white-space:nowrap">40.432,-80.434</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.15348,-90.1312)">
         <span style="white-space:nowrap">32.153,-90.131</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.11955,-74.80544)">
         <span style="white-space:nowrap">40.120,-74.805</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.39028,-105.1186)">
         <span style="white-space:nowrap">38.390,-105.119</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.97446,-118.24813)">
         <span style="white-space:nowrap">33.974,-118.248</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.05468,-97.3298)">
         <span style="white-space:nowrap">45.055,-97.330</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.33564,-72.67176)">
         <span style="white-space:nowrap">42.336,-72.672</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(30.8413,-97.79363)">
         <span style="white-space:nowrap">30.841,-97.794</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.4384,-75.74935)">
         <span style="white-space:nowrap">43.438,-75.749</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(48.22065,-122.33182)">
         <span style="white-space:nowrap">48.221,-122.332</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.25985,-60.26586)">
         <span style="white-space:nowrap">46.260,-60.266</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.71645,-73.0615)">
         <span style="white-space:nowrap">43.716,-73.061</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.63159,-114.079)">
         <span style="white-space:nowrap">46.632,-114.079</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.50101,-116.02847)">
         <span style="white-space:nowrap">45.501,-116.028</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Charleston County</th>
       <td best="true">
        <a onClick="goto(32.74917,-79.94202)">
         <span style="white-space:nowrap">32.749,-79.942</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
