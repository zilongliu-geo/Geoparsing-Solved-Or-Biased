<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([39.39788,-76.97331], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([39.39788,-76.97331],
			  {
			      title: "Waters Edge",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Waters Edge"] = marker;
  
    var marker = L.marker([43.04639,-73.73417],
			  {
			      title: "Waters Edge",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Waters Edge"] = marker;
  
    var marker = L.marker([35.06211,-78.98697],
			  {
			      title: "Waters Edge",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Waters Edge"] = marker;
  
    var marker = L.marker([32.94878,-80.16759],
			  {
			      title: "Waters Edge",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Waters Edge"] = marker;
  
    var marker = L.marker([39.57222,-86.18778],
			  {
			      title: "Waters Edge",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Waters Edge"] = marker;
  
    var marker = L.marker([30.5688,-91.10427],
			  {
			      title: "Waters Edge",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Waters Edge"] = marker;
  
    var marker = L.marker([-19.24923,146.81385],
			  {
			      title: "Waters Edge",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Waters Edge"] = marker;
  
    var marker = L.marker([50.45967,-3.54356],
			  {
			      title: "Waters Edge",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Waters Edge"] = marker;
  
    var marker = L.marker([49.24,-2.052],
			  {
			      title: "waters edge",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Waters Edge"] = marker;
  
    var marker = L.marker([34.95076,72.51145],
			  {
			      title: "Maira",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.56313,72.61512],
			  {
			      title: "Maira",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([33.77846,73.86957],
			  {
			      title: "Maira",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([-9.43184,161.40774],
			  {
			      title: "Maira",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.35482,72.83876],
			  {
			      title: "Maira",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.2915,72.85544],
			  {
			      title: "Maira",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([32.91278,73.89293],
			  {
			      title: "Maira",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.27737,72.96422],
			  {
			      title: "Maira",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.33189,73.06112],
			  {
			      title: "Maira",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.43057,73.38044],
			  {
			      title: "Maira",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.75994,72.84402],
			  {
			      title: "Maira",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.44987,73.59839],
			  {
			      title: "Maira",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.31608,73.54387],
			  {
			      title: "Maira",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([25.76787,82.81416],
			  {
			      title: "Maira",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.29704,72.85897],
			  {
			      title: "Maira",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.44577,72.95933],
			  {
			      title: "Maira",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.40328,72.92072],
			  {
			      title: "Maira",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.57845,73.00935],
			  {
			      title: "Maira",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([34.83672,72.98532],
			  {
			      title: "Maira",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Maira"] = marker;
  
    var marker = L.marker([24.65679,83.28728],
			  {
			      title: "Maira",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Maira"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Clinton Township residents of <span onClick="goto_name('Waters Edge')" class="loc">Waters Edge</span> want in-ground pools. <span onClick="goto_name('Maira')" class="loc">Maira</span> said she had spoken with planning consultant Frank Banish and had been advised that pools had not been included as an accessory use when the area was zoned about 10 years ago because the plan at the time had called for high-density condominiums, not the single family homes that were eventually built. Cimei said the ordinance amending the regulations would be considered by the council next month, but would have to be referred to the Planning Board before it can be fully adopted. The timeline may take final adoption well into May, further delaying potential pool construction. Depending on when the work can be done, the five hopeful residents may have to wait well into the summer months before realizing the cooling effect of their swimming pools.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Waters Edge</th>
       <td best="true">
        <a onClick="goto(39.39788,-76.97331)">
         <span style="white-space:nowrap">39.398,-76.973</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.04639,-73.73417)">
         <span style="white-space:nowrap">43.046,-73.734</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.06211,-78.98697)">
         <span style="white-space:nowrap">35.062,-78.987</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.94878,-80.16759)">
         <span style="white-space:nowrap">32.949,-80.168</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.57222,-86.18778)">
         <span style="white-space:nowrap">39.572,-86.188</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(30.5688,-91.10427)">
         <span style="white-space:nowrap">30.569,-91.104</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-19.24923,146.81385)">
         <span style="white-space:nowrap">-19.249,146.814</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.45967,-3.54356)">
         <span style="white-space:nowrap">50.460,-3.544</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(49.24,-2.052)">
         <span style="white-space:nowrap">49.240,-2.052</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Maira</th>
       <td best="true">
        <a onClick="goto(34.95076,72.51145)">
         <span style="white-space:nowrap">34.951,72.511</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.56313,72.61512)">
         <span style="white-space:nowrap">34.563,72.615</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.77846,73.86957)">
         <span style="white-space:nowrap">33.778,73.870</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-9.43184,161.40774)">
         <span style="white-space:nowrap">-9.432,161.408</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.35482,72.83876)">
         <span style="white-space:nowrap">34.355,72.839</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.2915,72.85544)">
         <span style="white-space:nowrap">34.291,72.855</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.91278,73.89293)">
         <span style="white-space:nowrap">32.913,73.893</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.27737,72.96422)">
         <span style="white-space:nowrap">34.277,72.964</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.33189,73.06112)">
         <span style="white-space:nowrap">34.332,73.061</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.43057,73.38044)">
         <span style="white-space:nowrap">34.431,73.380</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.75994,72.84402)">
         <span style="white-space:nowrap">34.760,72.844</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.44987,73.59839)">
         <span style="white-space:nowrap">34.450,73.598</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.31608,73.54387)">
         <span style="white-space:nowrap">34.316,73.544</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(25.76787,82.81416)">
         <span style="white-space:nowrap">25.768,82.814</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.29704,72.85897)">
         <span style="white-space:nowrap">34.297,72.859</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.44577,72.95933)">
         <span style="white-space:nowrap">34.446,72.959</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.40328,72.92072)">
         <span style="white-space:nowrap">34.403,72.921</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.57845,73.00935)">
         <span style="white-space:nowrap">34.578,73.009</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.83672,72.98532)">
         <span style="white-space:nowrap">34.837,72.985</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(24.65679,83.28728)">
         <span style="white-space:nowrap">24.657,83.287</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
