<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([57.14369,-2.09814], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([57.14369,-2.09814],
			  {
			      title: "Aberdeen",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([57.14476,-2.09138],
			  {
			      title: "Aberdeen Ferry Port",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([46.97537,-123.81572],
			  {
			      title: "Aberdeen",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([41.43893,-87.11142],
			  {
			      title: "Aberdeen",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([37.25394,-86.68165],
			  {
			      title: "Aberdeen",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([34.60343,-91.34179],
			  {
			      title: "Aberdeen",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([39.05843,-80.31592],
			  {
			      title: "Aberdeen",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([35.03783,-100.14928],
			  {
			      title: "Aberdeen",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([33.409,-84.60187],
			  {
			      title: "Aberdeen",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([39.50956,-76.16412],
			  {
			      title: "Aberdeen",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([-32.16588,150.89003],
			  {
			      title: "Aberdeen",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([-32.47588,24.06525],
			  {
			      title: "Aberdeen",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([26.55063,-80.14866],
			  {
			      title: "Aberdeen",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([52.31678,-106.28448],
			  {
			      title: "Aberdeen",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([8.49117,-13.28493],
			  {
			      title: "Aberdeen",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([45.97087,-61.05949],
			  {
			      title: "Aberdeen",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([18.38333,-77.36667],
			  {
			      title: "Aberdeen",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([46.48336,-83.78322],
			  {
			      title: "Aberdeen",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([46.26682,-77.6995],
			  {
			      title: "Aberdeen",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([18.20508,-77.67932],
			  {
			      title: "Aberdeen",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Aberdeen"] = marker;
  
    var marker = L.marker([39.96181,-90.75034],
			  {
			      title: "Brown",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Brown County"] = marker;
  
    var marker = L.marker([42.43002,-99.92951],
			  {
			      title: "Brown",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Brown County"] = marker;
  
    var marker = L.marker([44.24217,-94.72748],
			  {
			      title: "Brown",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Brown County"] = marker;
  
    var marker = L.marker([45.58972,-98.35161],
			  {
			      title: "Brown",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Brown County"] = marker;
  
    var marker = L.marker([39.19621,-86.22737],
			  {
			      title: "Brown",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Brown County"] = marker;
  
    var marker = L.marker([39.8265,-95.56422],
			  {
			      title: "Brown",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Brown County"] = marker;
  
    var marker = L.marker([44.47433,-87.99287],
			  {
			      title: "Brown",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Brown County"] = marker;
  
    var marker = L.marker([38.93405,-83.86743],
			  {
			      title: "Brown",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Brown County"] = marker;
  
    var marker = L.marker([31.77426,-98.99979],
			  {
			      title: "Brown",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Brown County"] = marker;
  
    var marker = L.marker([44.50026,-100.25069],
			  {
			      title: "South Dakota",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["South Dakota"] = marker;
  
    var marker = L.marker([39.76,-98.5],
			  {
			      title: "United States",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["United States"] = marker;
  
    var marker = L.marker([44.36832,-100.35097],
			  {
			      title: "Pierre",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([41.20365,-86.89196],
			  {
			      title: "San Pierre",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([30.92547,-92.40541],
			  {
			      title: "Meridian",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([47.23254,-68.67338],
			  {
			      title: "Pierre",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([48.64327,5.93377],
			  {
			      title: "Pierre-la-Treiche",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([45.39762,3.62298],
			  {
			      title: "Pierre",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([-17.8,-149.28333],
			  {
			      title: "Pierre",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([18.58333,-74.05],
			  {
			      title: "Pierre",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([18.33333,-74.2],
			  {
			      title: "Pierre Paul",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([18.41667,-72.56667],
			  {
			      title: "Pierre",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([29.5581,34.95177],
			  {
			      title: "Blue Hotel",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([45.56134,8.94713],
			  {
			      title: "Pierre",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Pierre"] = marker;
  
    var marker = L.marker([34.00071,-81.03481],
			  {
			      title: "Columbia",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([38.95171,-92.33407],
			  {
			      title: "Columbia",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([39.24038,-76.83942],
			  {
			      title: "Columbia",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([40.03371,-76.50441],
			  {
			      title: "Columbia",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([35.61507,-87.03528],
			  {
			      title: "Columbia",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([4,-73.25],
			  {
			      title: "Colombia",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([41.17528,-93.14993],
			  {
			      title: "Columbia",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([38.44366,-90.20122],
			  {
			      title: "Columbia",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([38.12288,-81.31094],
			  {
			      title: "Columbia",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([40.92621,-75.09268],
			  {
			      title: "Columbia",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([44.87783,-71.51425],
			  {
			      title: "Columbia",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([-20.04553,146.27481],
			  {
			      title: "Columbia",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([34.03364,-112.31044],
			  {
			      title: "Columbia",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([38.03631,-120.40131],
			  {
			      title: "Columbia",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([22.1,-80.58333],
			  {
			      title: "Columbia",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([21.06667,-76.2],
			  {
			      title: "Columbia",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([20.18333,-74.65],
			  {
			      title: "Columbia",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([21.73333,-77.56667],
			  {
			      title: "Columbia",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([22.76667,-82.33333],
			  {
			      title: "Columbia",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Columbia"] = marker;
  
    var marker = L.marker([22.35,-80.48333],
			  {
			      title: "Columbia",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Columbia"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>
     <span onClick="goto_name('Aberdeen')" class="loc">Aberdeen</span> (Lakota: Ablíla) is a city in and the county seat of <span onClick="goto_name('Brown County')" class="loc">Brown County</span>, <span onClick="goto_name('South Dakota')" class="loc">South Dakota</span>, <span onClick="goto_name('United States')" class="loc">United States</span>, about 125 miles (201 km) northeast of <span onClick="goto_name('Pierre')" class="loc">Pierre</span>. The city population was 26,091 at the 2010 census, making it the third largest city in the state. <span onClick="goto_name('Aberdeen')" class="loc">Aberdeen</span> is the principal city of the Aberdeen Micropolitan Statistical Area, which includes all of Brown and Edmunds counties and has a population of 40,602 in 2010. <span onClick="goto_name('Aberdeen')" class="loc">Aberdeen</span> is the home of Northern State University and Presentation College. Before <span onClick="goto_name('Aberdeen')" class="loc">Aberdeen</span> or <span onClick="goto_name('Brown County')" class="loc">Brown County</span> was inhabited by European settlers, it was inhabited by the Sioux Indians from approximately 1700 to 1879. Europeans entered the region for business, founding fur trading posts during the 1820s; these trading posts operated until the mid-1830s. The first "settlers" of this region were the Arikara Indians, but they would later be joined by others. The first group of Euro-American settlers to reach the area that is now <span onClick="goto_name('Brown County')" class="loc">Brown County</span> was a party of four people, three horses, two mules, fifteen cattle, and two wagons. This group of settlers was later joined by another group the following spring, and eventually more settlers migrated toward this general area, currently known as <span onClick="goto_name('Columbia')" class="loc">Columbia</span>, <span onClick="goto_name('South Dakota')" class="loc">South Dakota</span>. This town was established on June 15, 1879. The town was settled in 1880, and incorporated in 1882.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Aberdeen</th>
       <td best="true">
        <a onClick="goto(57.14369,-2.09814)">
         <span style="white-space:nowrap">57.144,-2.098</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(57.14476,-2.09138)">
         <span style="white-space:nowrap">57.145,-2.091</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.97537,-123.81572)">
         <span style="white-space:nowrap">46.975,-123.816</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.43893,-87.11142)">
         <span style="white-space:nowrap">41.439,-87.111</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.25394,-86.68165)">
         <span style="white-space:nowrap">37.254,-86.682</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.60343,-91.34179)">
         <span style="white-space:nowrap">34.603,-91.342</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.05843,-80.31592)">
         <span style="white-space:nowrap">39.058,-80.316</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.03783,-100.14928)">
         <span style="white-space:nowrap">35.038,-100.149</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.409,-84.60187)">
         <span style="white-space:nowrap">33.409,-84.602</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.50956,-76.16412)">
         <span style="white-space:nowrap">39.510,-76.164</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-32.16588,150.89003)">
         <span style="white-space:nowrap">-32.166,150.890</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-32.47588,24.06525)">
         <span style="white-space:nowrap">-32.476,24.065</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(26.55063,-80.14866)">
         <span style="white-space:nowrap">26.551,-80.149</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.31678,-106.28448)">
         <span style="white-space:nowrap">52.317,-106.284</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(8.49117,-13.28493)">
         <span style="white-space:nowrap">8.491,-13.285</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.97087,-61.05949)">
         <span style="white-space:nowrap">45.971,-61.059</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.38333,-77.36667)">
         <span style="white-space:nowrap">18.383,-77.367</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.48336,-83.78322)">
         <span style="white-space:nowrap">46.483,-83.783</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.26682,-77.6995)">
         <span style="white-space:nowrap">46.267,-77.700</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.20508,-77.67932)">
         <span style="white-space:nowrap">18.205,-77.679</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Brown County</th>
       <td best="true">
        <a onClick="goto(39.96181,-90.75034)">
         <span style="white-space:nowrap">39.962,-90.750</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.43002,-99.92951)">
         <span style="white-space:nowrap">42.430,-99.930</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.24217,-94.72748)">
         <span style="white-space:nowrap">44.242,-94.727</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.58972,-98.35161)">
         <span style="white-space:nowrap">45.590,-98.352</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.19621,-86.22737)">
         <span style="white-space:nowrap">39.196,-86.227</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.8265,-95.56422)">
         <span style="white-space:nowrap">39.827,-95.564</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.47433,-87.99287)">
         <span style="white-space:nowrap">44.474,-87.993</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.93405,-83.86743)">
         <span style="white-space:nowrap">38.934,-83.867</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(31.77426,-98.99979)">
         <span style="white-space:nowrap">31.774,-99.000</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>South Dakota</th>
       <td best="true">
        <a onClick="goto(44.50026,-100.25069)">
         <span style="white-space:nowrap">44.500,-100.251</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>United States</th>
       <td best="true">
        <a onClick="goto(39.76,-98.5)">
         <span style="white-space:nowrap">39.760,-98.500</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Pierre</th>
       <td best="true">
        <a onClick="goto(44.36832,-100.35097)">
         <span style="white-space:nowrap">44.368,-100.351</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.20365,-86.89196)">
         <span style="white-space:nowrap">41.204,-86.892</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(30.92547,-92.40541)">
         <span style="white-space:nowrap">30.925,-92.405</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(47.23254,-68.67338)">
         <span style="white-space:nowrap">47.233,-68.673</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(48.64327,5.93377)">
         <span style="white-space:nowrap">48.643,5.934</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.39762,3.62298)">
         <span style="white-space:nowrap">45.398,3.623</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-17.8,-149.28333)">
         <span style="white-space:nowrap">-17.800,-149.283</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.58333,-74.05)">
         <span style="white-space:nowrap">18.583,-74.050</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.33333,-74.2)">
         <span style="white-space:nowrap">18.333,-74.200</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.41667,-72.56667)">
         <span style="white-space:nowrap">18.417,-72.567</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(29.5581,34.95177)">
         <span style="white-space:nowrap">29.558,34.952</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.56134,8.94713)">
         <span style="white-space:nowrap">45.561,8.947</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Columbia</th>
       <td best="true">
        <a onClick="goto(34.00071,-81.03481)">
         <span style="white-space:nowrap">34.001,-81.035</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.95171,-92.33407)">
         <span style="white-space:nowrap">38.952,-92.334</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.24038,-76.83942)">
         <span style="white-space:nowrap">39.240,-76.839</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.03371,-76.50441)">
         <span style="white-space:nowrap">40.034,-76.504</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(35.61507,-87.03528)">
         <span style="white-space:nowrap">35.615,-87.035</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(4,-73.25)">
         <span style="white-space:nowrap">4.000,-73.250</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.17528,-93.14993)">
         <span style="white-space:nowrap">41.175,-93.150</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.44366,-90.20122)">
         <span style="white-space:nowrap">38.444,-90.201</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.12288,-81.31094)">
         <span style="white-space:nowrap">38.123,-81.311</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.92621,-75.09268)">
         <span style="white-space:nowrap">40.926,-75.093</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.87783,-71.51425)">
         <span style="white-space:nowrap">44.878,-71.514</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-20.04553,146.27481)">
         <span style="white-space:nowrap">-20.046,146.275</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.03364,-112.31044)">
         <span style="white-space:nowrap">34.034,-112.310</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.03631,-120.40131)">
         <span style="white-space:nowrap">38.036,-120.401</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.1,-80.58333)">
         <span style="white-space:nowrap">22.100,-80.583</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(21.06667,-76.2)">
         <span style="white-space:nowrap">21.067,-76.200</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(20.18333,-74.65)">
         <span style="white-space:nowrap">20.183,-74.650</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(21.73333,-77.56667)">
         <span style="white-space:nowrap">21.733,-77.567</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.76667,-82.33333)">
         <span style="white-space:nowrap">22.767,-82.333</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.35,-80.48333)">
         <span style="white-space:nowrap">22.350,-80.483</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
