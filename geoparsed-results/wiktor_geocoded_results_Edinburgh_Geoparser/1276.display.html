<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([-36.88333,174.7], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([-36.88333,174.7],
			  {
			      title: "Avondale",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([33.4356,-112.3496],
			  {
			      title: "Avondale",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([-43.49833,172.69013],
			  {
			      title: "Avondale",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([-34.5175,150.7501],
			  {
			      title: "Avondale",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([39.79339,-84.14299],
			  {
			      title: "Avondale",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([39.82344,-75.78327],
			  {
			      title: "Avondale",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([39.55927,-77.03082],
			  {
			      title: "Avondale",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([41.93892,-87.71117],
			  {
			      title: "Avondale",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([38.94872,-76.97525],
			  {
			      title: "Avondale",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([39.15417,-94.5469],
			  {
			      title: "Avondale",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([38.2375,-104.35108],
			  {
			      title: "Avondale",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([33.52177,-86.77805],
			  {
			      title: "Avondale",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([37.41261,-81.78428],
			  {
			      title: "Avondale",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([41.33454,-71.83535],
			  {
			      title: "Avondale",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([32.9679,-97.42058],
			  {
			      title: "Avondale",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([39.14784,-84.49494],
			  {
			      title: "Avondale",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([47.41659,-53.19808],
			  {
			      title: "Avondale",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([-17.79611,31.03472],
			  {
			      title: "Avondale Township",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([-24.73826,152.15824],
			  {
			      title: "Avondale",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([-45.8484,168.13007],
			  {
			      title: "Avondale",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Avondale"] = marker;
  
    var marker = L.marker([-36.85,174.78333],
			  {
			      title: "Auckland",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Auckland"] = marker;
  
    var marker = L.marker([-36.84853,174.76349],
			  {
			      title: "Auckland",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Auckland"] = marker;
  
    var marker = L.marker([-36.85582,174.74304],
			  {
			      title: "Auckland",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Auckland"] = marker;
  
    var marker = L.marker([-38.33333,176],
			  {
			      title: "South Auckland",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Auckland"] = marker;
  
    var marker = L.marker([36.588,-119.10678],
			  {
			      title: "Auckland",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Auckland"] = marker;
  
    var marker = L.marker([45.26679,-71.48235],
			  {
			      title: "Auckland",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Auckland"] = marker;
  
    var marker = L.marker([-19.51018,29.03431],
			  {
			      title: "Auckland",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Auckland"] = marker;
  
    var marker = L.marker([-42,174],
			  {
			      title: "New Zealand",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["New Zealand"] = marker;
  
    var marker = L.marker([-42,174],
			  {
			      title: "New Zealand",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["New Zealand"] = marker;
  
    var marker = L.marker([46.4168,-62.31532],
			  {
			      title: "New Zealand",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["New Zealand"] = marker;
  
    var marker = L.marker([54.63088,-1.72131],
			  {
			      title: "West Auckland",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["West Auckland"] = marker;
  
    var marker = L.marker([54.62975,-1.72046],
			  {
			      title: "West Auckland",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["West Auckland"] = marker;
  
    var marker = L.marker([-35.14818,173.89018],
			  {
			      title: "Te Whau",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Te Whau"] = marker;
  
    var marker = L.marker([-35.15,173.88333],
			  {
			      title: "Te Whau",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Te Whau"] = marker;
  
    var marker = L.marker([-36.88333,174.7],
			  {
			      title: "Avondale",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([-43.49833,172.69013],
			  {
			      title: "Avondale",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([-17.79611,31.03472],
			  {
			      title: "Avondale Township",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([41.93892,-87.71117],
			  {
			      title: "Avondale",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([38.2375,-104.35108],
			  {
			      title: "Avondale",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([39.82344,-75.78327],
			  {
			      title: "Avondale",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([33.4356,-112.3496],
			  {
			      title: "Avondale",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([47.41659,-53.19808],
			  {
			      title: "Avondale",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([41.33454,-71.83535],
			  {
			      title: "Avondale",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([39.14784,-84.49494],
			  {
			      title: "Avondale",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([37.41261,-81.78428],
			  {
			      title: "Avondale",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([39.55927,-77.03082],
			  {
			      title: "Avondale",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([39.15417,-94.5469],
			  {
			      title: "Avondale",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([-34.5175,150.7501],
			  {
			      title: "Avondale",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([39.79339,-84.14299],
			  {
			      title: "Avondale",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([32.9679,-97.42058],
			  {
			      title: "Avondale",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([-24.73826,152.15824],
			  {
			      title: "Avondale",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([33.52177,-86.77805],
			  {
			      title: "Avondale",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([38.94872,-76.97525],
			  {
			      title: "Avondale",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([-45.8484,168.13007],
			  {
			      title: "Avondale",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Avondale District"] = marker;
  
    var marker = L.marker([-36.85,174.66667],
			  {
			      title: "Whau River",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Whau River"] = marker;
  
    var marker = L.marker([-36.8282,174.74019],
			  {
			      title: "Waitemata Harbour",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Waitemata Harbour"] = marker;
  
    var marker = L.marker([-36.81667,174.7],
			  {
			      title: "Waitemata Harbour",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Waitemata Harbour"] = marker;
  
    var marker = L.marker([-36.7682,174.63019],
			  {
			      title: "Waitemata Harbour",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Waitemata Harbour"] = marker;
  
    var marker = L.marker([-36.87495,174.66991],
			  {
			      title: "Rosebank",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([-36.30399,149.87327],
			  {
			      title: "Rosebank",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([46.80015,-64.14873],
			  {
			      title: "Rosebank",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([55.72604,-3.90234],
			  {
			      title: "Rosebank",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([-33.95556,18.47417],
			  {
			      title: "Rosebank",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([30.92323,-91.4415],
			  {
			      title: "Rosebank",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([36.18644,-86.71805],
			  {
			      title: "Rosebank",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([-26.14563,28.03589],
			  {
			      title: "Rosebank",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([-31.26113,26.97244],
			  {
			      title: "Rosebank",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([-28.66667,153.4],
			  {
			      title: "Rosebank",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([40.61399,-74.06625],
			  {
			      title: "Rosebank",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([46.21822,-63.11538],
			  {
			      title: "Rosebank",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([39.3629,-76.61174],
			  {
			      title: "Rosebank",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([45.52333,-76.79028],
			  {
			      title: "Rosebank",
			      icon: 14 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 14 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(14 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([43.80012,-79.13289],
			  {
			      title: "Rosebank",
			      icon: 15 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 15 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(15 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([49.3706,-98.11406],
			  {
			      title: "Rosebank",
			      icon: 16 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 16 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(16 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([-38.25,146.63333],
			  {
			      title: "Rosebank",
			      icon: 17 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 17 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(17 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([-33.95,18.46667],
			  {
			      title: "Rosebank",
			      icon: 18 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 18 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(18 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([-38.13333,145.5],
			  {
			      title: "Rosebank",
			      icon: 19 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 19 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(19 == 1)
    markers_by_name["Rosebank"] = marker;
  
    var marker = L.marker([-34.83333,150.6],
			  {
			      title: "Rosebank",
			      icon: 20 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 20 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(20 == 1)
    markers_by_name["Rosebank"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>
     <span onClick="goto_name('Avondale')" class="loc">Avondale</span> is a suburb of <span onClick="goto_name('Auckland')" class="loc">Auckland</span>, <span onClick="goto_name('New Zealand')" class="loc">New Zealand</span>, located in the <span onClick="goto_name('Whau ward')" class="loc">Whau ward</span>, one of the thirteen administrative divisions for the Auckland Council. It is commonly considered to be part of <span onClick="goto_name('West Auckland')" class="loc">West Auckland</span>. It was originally called "<span onClick="goto_name('Te Whau')" class="loc">Te Whau</span>", which is the common name, of Māori origin, for Entelea arborescens, a native tree. Its postcode is 1026. The first European settler in the area was John Sheddon Adam in 1843, but settlement did not occur in larger numbers until the late 1850s, with the completion of Great North Road. Expansion was rapid, with churches, stores and a public hall built by 1867. With a railway connection to the settlement in 1880, the rate of settlement increased further. <span onClick="goto_name('Te Whau')" class="loc">Te Whau</span> became <span onClick="goto_name('Avondale District')" class="loc">Avondale District</span> on 5 June 1882, although the old name survives in the <span onClick="goto_name('Whau River')" class="loc">Whau River</span>, an estuarial arm of the <span onClick="goto_name('Waitemata Harbour')" class="loc">Waitemata Harbour</span>, which runs along the western edge of the suburb. A prominent community leader and Member of Parliament was John Bollard, who lived in <span onClick="goto_name('Avondale')" class="loc">Avondale</span> from 1861 to 1915. Early industries included brickyards, tanneries, mills and pottery works. <span onClick="goto_name('Avondale')" class="loc">Avondale</span> also had numerous market gardens, especially on the <span onClick="goto_name('Rosebank')" class="loc">Rosebank</span> Peninsula. It was here that the "Hayward" cultivar of the Chinese gooseberry, later known as the kiwifruit, was developed by Hayward Wright.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Avondale</th>
       <td best="true">
        <a onClick="goto(-36.88333,174.7)">
         <span style="white-space:nowrap">-36.883,174.700</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.4356,-112.3496)">
         <span style="white-space:nowrap">33.436,-112.350</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-43.49833,172.69013)">
         <span style="white-space:nowrap">-43.498,172.690</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-34.5175,150.7501)">
         <span style="white-space:nowrap">-34.517,150.750</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.79339,-84.14299)">
         <span style="white-space:nowrap">39.793,-84.143</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.82344,-75.78327)">
         <span style="white-space:nowrap">39.823,-75.783</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.55927,-77.03082)">
         <span style="white-space:nowrap">39.559,-77.031</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.93892,-87.71117)">
         <span style="white-space:nowrap">41.939,-87.711</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.94872,-76.97525)">
         <span style="white-space:nowrap">38.949,-76.975</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.15417,-94.5469)">
         <span style="white-space:nowrap">39.154,-94.547</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.2375,-104.35108)">
         <span style="white-space:nowrap">38.237,-104.351</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.52177,-86.77805)">
         <span style="white-space:nowrap">33.522,-86.778</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.41261,-81.78428)">
         <span style="white-space:nowrap">37.413,-81.784</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.33454,-71.83535)">
         <span style="white-space:nowrap">41.335,-71.835</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.9679,-97.42058)">
         <span style="white-space:nowrap">32.968,-97.421</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.14784,-84.49494)">
         <span style="white-space:nowrap">39.148,-84.495</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(47.41659,-53.19808)">
         <span style="white-space:nowrap">47.417,-53.198</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-17.79611,31.03472)">
         <span style="white-space:nowrap">-17.796,31.035</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-24.73826,152.15824)">
         <span style="white-space:nowrap">-24.738,152.158</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-45.8484,168.13007)">
         <span style="white-space:nowrap">-45.848,168.130</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Auckland</th>
       <td best="true">
        <a onClick="goto(-36.85,174.78333)">
         <span style="white-space:nowrap">-36.850,174.783</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-36.84853,174.76349)">
         <span style="white-space:nowrap">-36.849,174.763</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-36.85582,174.74304)">
         <span style="white-space:nowrap">-36.856,174.743</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-38.33333,176)">
         <span style="white-space:nowrap">-38.333,176.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.588,-119.10678)">
         <span style="white-space:nowrap">36.588,-119.107</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.26679,-71.48235)">
         <span style="white-space:nowrap">45.267,-71.482</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-19.51018,29.03431)">
         <span style="white-space:nowrap">-19.510,29.034</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>New Zealand</th>
       <td best="true">
        <a onClick="goto(-42,174)">
         <span style="white-space:nowrap">-42.000,174.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-42,174)">
         <span style="white-space:nowrap">-42.000,174.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.4168,-62.31532)">
         <span style="white-space:nowrap">46.417,-62.315</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Whau ward</th>
      </tr>
      <tr>
       <th>West Auckland</th>
       <td best="true">
        <a onClick="goto(54.63088,-1.72131)">
         <span style="white-space:nowrap">54.631,-1.721</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(54.62975,-1.72046)">
         <span style="white-space:nowrap">54.630,-1.720</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Te Whau</th>
       <td best="true">
        <a onClick="goto(-35.14818,173.89018)">
         <span style="white-space:nowrap">-35.148,173.890</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-35.15,173.88333)">
         <span style="white-space:nowrap">-35.150,173.883</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Avondale District</th>
       <td best="true">
        <a onClick="goto(-36.88333,174.7)">
         <span style="white-space:nowrap">-36.883,174.700</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-43.49833,172.69013)">
         <span style="white-space:nowrap">-43.498,172.690</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-17.79611,31.03472)">
         <span style="white-space:nowrap">-17.796,31.035</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.93892,-87.71117)">
         <span style="white-space:nowrap">41.939,-87.711</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.2375,-104.35108)">
         <span style="white-space:nowrap">38.237,-104.351</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.82344,-75.78327)">
         <span style="white-space:nowrap">39.823,-75.783</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.4356,-112.3496)">
         <span style="white-space:nowrap">33.436,-112.350</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(47.41659,-53.19808)">
         <span style="white-space:nowrap">47.417,-53.198</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.33454,-71.83535)">
         <span style="white-space:nowrap">41.335,-71.835</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.14784,-84.49494)">
         <span style="white-space:nowrap">39.148,-84.495</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.41261,-81.78428)">
         <span style="white-space:nowrap">37.413,-81.784</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.55927,-77.03082)">
         <span style="white-space:nowrap">39.559,-77.031</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.15417,-94.5469)">
         <span style="white-space:nowrap">39.154,-94.547</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-34.5175,150.7501)">
         <span style="white-space:nowrap">-34.517,150.750</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.79339,-84.14299)">
         <span style="white-space:nowrap">39.793,-84.143</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(32.9679,-97.42058)">
         <span style="white-space:nowrap">32.968,-97.421</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-24.73826,152.15824)">
         <span style="white-space:nowrap">-24.738,152.158</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.52177,-86.77805)">
         <span style="white-space:nowrap">33.522,-86.778</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.94872,-76.97525)">
         <span style="white-space:nowrap">38.949,-76.975</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-45.8484,168.13007)">
         <span style="white-space:nowrap">-45.848,168.130</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Whau River</th>
       <td best="true">
        <a onClick="goto(-36.85,174.66667)">
         <span style="white-space:nowrap">-36.850,174.667</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Waitemata Harbour</th>
       <td best="true">
        <a onClick="goto(-36.8282,174.74019)">
         <span style="white-space:nowrap">-36.828,174.740</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-36.81667,174.7)">
         <span style="white-space:nowrap">-36.817,174.700</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-36.7682,174.63019)">
         <span style="white-space:nowrap">-36.768,174.630</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Rosebank</th>
       <td best="true">
        <a onClick="goto(-36.87495,174.66991)">
         <span style="white-space:nowrap">-36.875,174.670</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-36.30399,149.87327)">
         <span style="white-space:nowrap">-36.304,149.873</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.80015,-64.14873)">
         <span style="white-space:nowrap">46.800,-64.149</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(55.72604,-3.90234)">
         <span style="white-space:nowrap">55.726,-3.902</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.95556,18.47417)">
         <span style="white-space:nowrap">-33.956,18.474</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(30.92323,-91.4415)">
         <span style="white-space:nowrap">30.923,-91.442</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.18644,-86.71805)">
         <span style="white-space:nowrap">36.186,-86.718</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-26.14563,28.03589)">
         <span style="white-space:nowrap">-26.146,28.036</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-31.26113,26.97244)">
         <span style="white-space:nowrap">-31.261,26.972</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-28.66667,153.4)">
         <span style="white-space:nowrap">-28.667,153.400</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.61399,-74.06625)">
         <span style="white-space:nowrap">40.614,-74.066</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.21822,-63.11538)">
         <span style="white-space:nowrap">46.218,-63.115</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.3629,-76.61174)">
         <span style="white-space:nowrap">39.363,-76.612</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.52333,-76.79028)">
         <span style="white-space:nowrap">45.523,-76.790</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.80012,-79.13289)">
         <span style="white-space:nowrap">43.800,-79.133</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(49.3706,-98.11406)">
         <span style="white-space:nowrap">49.371,-98.114</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-38.25,146.63333)">
         <span style="white-space:nowrap">-38.250,146.633</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.95,18.46667)">
         <span style="white-space:nowrap">-33.950,18.467</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-38.13333,145.5)">
         <span style="white-space:nowrap">-38.133,145.500</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-34.83333,150.6)">
         <span style="white-space:nowrap">-34.833,150.600</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
