<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([22.26384,114.18829], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([22.26384,114.18829],
			  {
			      title: "Hong Kong Island",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Hong Kong Island"] = marker;
  
    var marker = L.marker([22.26686,114.17885],
			  {
			      title: "Hong Kong",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Hong Kong Island"] = marker;
  
    var marker = L.marker([22.27832,114.17469],
			  {
			      title: "Hong Kong",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Hong Kong"] = marker;
  
    var marker = L.marker([22.26667,114.2],
			  {
			      title: "Hong Kong",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Hong Kong"] = marker;
  
    var marker = L.marker([22.26686,114.17885],
			  {
			      title: "Hong Kong",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Hong Kong"] = marker;
  
    var marker = L.marker([22.25,114.16667],
			  {
			      title: "Hong Kong",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Hong Kong"] = marker;
  
    var marker = L.marker([22.28455,114.1582],
			  {
			      title: "Hong Kong",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Hong Kong"] = marker;
  
    var marker = L.marker([22.95805,-109.93898],
			  {
			      title: "Hong Kong",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Hong Kong"] = marker;
  
    var marker = L.marker([5.93106,-57.15676],
			  {
			      title: "Number Seventy-two Hong Kong",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Hong Kong"] = marker;
  
    var marker = L.marker([47.5501,-82.53309],
			  {
			      title: "Hong Kong",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Hong Kong"] = marker;
  
    var marker = L.marker([22.23981,114.17001],
			  {
			      title: "Wong Chuk Hang",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Wong Chuk Hang"] = marker;
  
    var marker = L.marker([22.38333,114.35],
			  {
			      title: "Wong Chuk Hang",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Wong Chuk Hang"] = marker;
  
    var marker = L.marker([22.25097,114.16632],
			  {
			      title: "Wong Chuk Hang",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Wong Chuk Hang"] = marker;
  
    var marker = L.marker([22.24129,114.15482],
			  {
			      title: "Ap Lei Chau",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Ap Lei Chau"] = marker;
  
    var marker = L.marker([22.25113,114.14726],
			  {
			      title: "Tin Wan",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Tin Wan"] = marker;
  
    var marker = L.marker([22.24802,114.15289],
			  {
			      title: "Aberdeen",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Aberdeen Harbour"] = marker;
  
    var marker = L.marker([22.24695,114.14659],
			  {
			      title: "Aberdeen Harbour",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Aberdeen Harbour"] = marker;
  
    var marker = L.marker([57.14476,-2.09138],
			  {
			      title: "Aberdeen Ferry Port",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Aberdeen Harbour"] = marker;
  
    var marker = L.marker([54.75844,-2.69531],
			  {
			      title: "United Kingdom",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["United Kingdom"] = marker;
  
    var marker = L.marker([25.22324,55.15977],
			  {
			      title: "United Kingdom",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["United Kingdom"] = marker;
  
    var marker = L.marker([-17.06667,30.2],
			  {
			      title: "United Kingdom",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["United Kingdom"] = marker;
  
    var marker = L.marker([31.26205,32.30683],
			  {
			      title: "Al Mamlakah al Muttaḩidah",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["United Kingdom"] = marker;
  
    var marker = L.marker([24.48361,54.35103],
			  {
			      title: "Brīţāniyā",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["United Kingdom"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Aberdeen /æbərˈdiːn/ is an area and town on <span onClick="goto_name('Hong Kong Island')" class="loc">Hong Kong Island</span> in <span onClick="goto_name('Hong Kong')" class="loc">Hong Kong</span>. Administratively, it is part of the Southern District. However, the name "Aberdeen" can refer to the areas of Aberdeen (town), <span onClick="goto_name('Wong Chuk Hang')" class="loc">Wong Chuk Hang</span>, <span onClick="goto_name('Ap Lei Chau')" class="loc">Ap Lei Chau</span> and <span onClick="goto_name('Tin Wan')" class="loc">Tin Wan</span>, but it is more often used to refer to the town only. According to the population census conducted in 2011, the total population of the Aberdeen area is approximately 80,000. Aberdeen is famous not only to tourists but also to <span onClick="goto_name('Hong Kong')" class="loc">Hong Kong</span> locals for its floating village and floating seafood restaurants located in the <span onClick="goto_name('Aberdeen Harbour')" class="loc">Aberdeen Harbour</span>. The Tanka people, who used to live on boats in the <span onClick="goto_name('Aberdeen Harbour')" class="loc">Aberdeen Harbour</span>, are generally associated with the fishing industry, and there are still several dozens of them living on boats in the harbour. This town is named Aberdeen in memory of George Hamilton-Gordon, 4th Earl of Aberdeen, former Prime Minister of the <span onClick="goto_name('United Kingdom')" class="loc">United Kingdom</span> (1852-1855) and former Secretary of State for Foreign Affairs (1841-1846). "Aberdeen" is also the name of a harbor and a housing estate:</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Hong Kong Island</th>
       <td best="true">
        <a onClick="goto(22.26384,114.18829)">
         <span style="white-space:nowrap">22.264,114.188</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.26686,114.17885)">
         <span style="white-space:nowrap">22.267,114.179</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Hong Kong</th>
       <td best="true">
        <a onClick="goto(22.27832,114.17469)">
         <span style="white-space:nowrap">22.278,114.175</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.26667,114.2)">
         <span style="white-space:nowrap">22.267,114.200</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.26686,114.17885)">
         <span style="white-space:nowrap">22.267,114.179</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.25,114.16667)">
         <span style="white-space:nowrap">22.250,114.167</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.28455,114.1582)">
         <span style="white-space:nowrap">22.285,114.158</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.95805,-109.93898)">
         <span style="white-space:nowrap">22.958,-109.939</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(5.93106,-57.15676)">
         <span style="white-space:nowrap">5.931,-57.157</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(47.5501,-82.53309)">
         <span style="white-space:nowrap">47.550,-82.533</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Wong Chuk Hang</th>
       <td best="true">
        <a onClick="goto(22.23981,114.17001)">
         <span style="white-space:nowrap">22.240,114.170</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.38333,114.35)">
         <span style="white-space:nowrap">22.383,114.350</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.25097,114.16632)">
         <span style="white-space:nowrap">22.251,114.166</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Ap Lei Chau</th>
       <td best="true">
        <a onClick="goto(22.24129,114.15482)">
         <span style="white-space:nowrap">22.241,114.155</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Tin Wan</th>
       <td best="true">
        <a onClick="goto(22.25113,114.14726)">
         <span style="white-space:nowrap">22.251,114.147</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Aberdeen Harbour</th>
       <td best="true">
        <a onClick="goto(22.24802,114.15289)">
         <span style="white-space:nowrap">22.248,114.153</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(22.24695,114.14659)">
         <span style="white-space:nowrap">22.247,114.147</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(57.14476,-2.09138)">
         <span style="white-space:nowrap">57.145,-2.091</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>United Kingdom</th>
       <td best="true">
        <a onClick="goto(54.75844,-2.69531)">
         <span style="white-space:nowrap">54.758,-2.695</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(25.22324,55.15977)">
         <span style="white-space:nowrap">25.223,55.160</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-17.06667,30.2)">
         <span style="white-space:nowrap">-17.067,30.200</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(31.26205,32.30683)">
         <span style="white-space:nowrap">31.262,32.307</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(24.48361,54.35103)">
         <span style="white-space:nowrap">24.484,54.351</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
