<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([34.31689,-83.81968], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([34.31689,-83.81968],
			  {
			      title: "Hall",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Hall County"] = marker;
  
    var marker = L.marker([40.87257,-98.50217],
			  {
			      title: "Hall",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Hall County"] = marker;
  
    var marker = L.marker([34.53078,-100.68113],
			  {
			      title: "Hall",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Hall County"] = marker;
  
    var marker = L.marker([34.22551,-84.12502],
			  {
			      title: "Forsyth",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Forsyth County"] = marker;
  
    var marker = L.marker([36.13049,-80.25636],
			  {
			      title: "Forsyth",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Forsyth County"] = marker;
  
    var marker = L.marker([34.22551,-84.12502],
			  {
			      title: "Forsyth",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([33.0343,-83.93824],
			  {
			      title: "Forsyth",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([36.13049,-80.25636],
			  {
			      title: "Forsyth",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([36.68506,-93.1199],
			  {
			      title: "Forsyth",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([39.93254,-88.95119],
			  {
			      title: "Forsyth",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([42.29228,-79.65366],
			  {
			      title: "Forsyth",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([43.25552,-94.47303],
			  {
			      title: "Forsyth",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([46.28883,-87.34181],
			  {
			      title: "Little Lake",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([-45.95,169.73333],
			  {
			      title: "Forsyth",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([46.26638,-106.67781],
			  {
			      title: "Forsyth",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([-45.93839,169.7301],
			  {
			      title: "Forsyth",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([45.91677,-70.99905],
			  {
			      title: "Forsyth",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Forsyth"] = marker;
  
    var marker = L.marker([46.26305,-106.68198],
			  {
			      title: "Forsyth",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Forsyth"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Former <span onClick="goto_name('Hall County')" class="loc">Hall County</span> official named to <span onClick="goto_name('Forsyth County')" class="loc">Forsyth County</span> post. The board voted 5-0 tonight to remove the "interim" tag from County Manager Doug Derrer's title. The decision was not unexpected. Two weeks ago, the board named Derrer as the sole finalist for the position. A 14-day period of review followed the announcement, in which the public could comment on Derrer's selection. Derrer is the fifth person to hold the spot since 2004. The position pays the same as his interim post, $130,000 per year, with a one-year severance should he leave. Derrer's job does not fall under the protection of the civil service board, a three-member panel that determines employee appeals. One added benefit to Derrer's contract as county manager is that the county will pay 100 percent of his health insurance. His government experience runs deep. A veteran of <span onClick="goto_name('Hall County')" class="loc">Hall County</span> government, he retired in December 2007 after more than 25 years of service. He opted to take early retirement from Hall, but felt he "still had a lot of energy left, and I feel like I still have a lot to offer the community." Months after retiring from Hall, he joined <span onClick="goto_name('Forsyth')" class="loc">Forsyth</span> as deputy county manager. He was elevated to the interim county manager spot after Rhonda Poston-O'Connor was fired as county manager in September 2008.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Hall County</th>
       <td best="true">
        <a onClick="goto(34.31689,-83.81968)">
         <span style="white-space:nowrap">34.317,-83.820</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.87257,-98.50217)">
         <span style="white-space:nowrap">40.873,-98.502</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(34.53078,-100.68113)">
         <span style="white-space:nowrap">34.531,-100.681</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Forsyth County</th>
       <td best="true">
        <a onClick="goto(34.22551,-84.12502)">
         <span style="white-space:nowrap">34.226,-84.125</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.13049,-80.25636)">
         <span style="white-space:nowrap">36.130,-80.256</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Forsyth</th>
       <td best="true">
        <a onClick="goto(34.22551,-84.12502)">
         <span style="white-space:nowrap">34.226,-84.125</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(33.0343,-83.93824)">
         <span style="white-space:nowrap">33.034,-83.938</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.13049,-80.25636)">
         <span style="white-space:nowrap">36.130,-80.256</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.68506,-93.1199)">
         <span style="white-space:nowrap">36.685,-93.120</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.93254,-88.95119)">
         <span style="white-space:nowrap">39.933,-88.951</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(42.29228,-79.65366)">
         <span style="white-space:nowrap">42.292,-79.654</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.25552,-94.47303)">
         <span style="white-space:nowrap">43.256,-94.473</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.28883,-87.34181)">
         <span style="white-space:nowrap">46.289,-87.342</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-45.95,169.73333)">
         <span style="white-space:nowrap">-45.950,169.733</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.26638,-106.67781)">
         <span style="white-space:nowrap">46.266,-106.678</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-45.93839,169.7301)">
         <span style="white-space:nowrap">-45.938,169.730</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(45.91677,-70.99905)">
         <span style="white-space:nowrap">45.917,-70.999</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(46.26305,-106.68198)">
         <span style="white-space:nowrap">46.263,-106.682</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
