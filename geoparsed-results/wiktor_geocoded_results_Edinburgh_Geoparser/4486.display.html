<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([67.61475,33.67274], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([67.61475,33.67274],
			  {
			      title: "Kirovsk",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([59.88101,30.99507],
			  {
			      title: "Kirovsk",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([50.71051,142.71864],
			  {
			      title: "Kirovskoye",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([37.68887,60.39372],
			  {
			      title: "Babadaýhan",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([53.2693,29.4752],
			  {
			      title: "Kirawsk",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([49.0234,37.93161],
			  {
			      title: "Zarichne",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([54.93664,73.31569],
			  {
			      title: "Kirovsk",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([48.63751,38.6428],
			  {
			      title: "Kirovsk",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([52.15278,59.61861],
			  {
			      title: "Kirovsk",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([38.79403,48.73597],
			  {
			      title: "İstisu",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([53.27292,29.47426],
			  {
			      title: "Kirawsk",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([50.73889,142.64917],
			  {
			      title: "Ostanovochnyy Punkt Kirovsk",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Kirovsk"] = marker;
  
    var marker = L.marker([67.61475,33.67274],
			  {
			      title: "Kirovsk",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Khibinogorsk"] = marker;
  
    var marker = L.marker([38.79403,48.73597],
			  {
			      title: "İstisu",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Khibinogorsk"] = marker;
  
    var marker = L.marker([68,34],
			  {
			      title: "Murmansk",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Murmansk Oblast"] = marker;
  
    var marker = L.marker([60,100],
			  {
			      title: "Russia",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Russia"] = marker;
  
    var marker = L.marker([40.23449,-84.40939],
			  {
			      title: "Russia",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Russia"] = marker;
  
    var marker = L.marker([44.67365,-73.78209],
			  {
			      title: "Russia",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Russia"] = marker;
  
    var marker = L.marker([43.25868,-75.08211],
			  {
			      title: "Russia",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Russia"] = marker;
  
    var marker = L.marker([44.63865,-73.75598],
			  {
			      title: "Moffitsville",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Russia"] = marker;
  
    var marker = L.marker([41.04065,-74.53266],
			  {
			      title: "Russia",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Russia"] = marker;
  
    var marker = L.marker([18.21649,-78.12361],
			  {
			      title: "Russia",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Russia"] = marker;
  
    var marker = L.marker([56.13446,47.24201],
			  {
			      title: "Russia",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Russia"] = marker;
  
    var marker = L.marker([40.53254,44.71924],
			  {
			      title: "Russia",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Russia"] = marker;
  
    var marker = L.marker([67.67911,33.20993],
			  {
			      title: "Khibiny",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Khibiny"] = marker;
  
    var marker = L.marker([67.75,33.75],
			  {
			      title: "Khibiny",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Khibiny"] = marker;
  
    var marker = L.marker([68.97917,33.09251],
			  {
			      title: "Murmansk",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Murmansk"] = marker;
  
    var marker = L.marker([68.48069,33.32276],
			  {
			      title: "Pushnoy",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Murmansk"] = marker;
  
    var marker = L.marker([68,34],
			  {
			      title: "Murmansk",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Murmansk"] = marker;
  
    var marker = L.marker([68.97921,33.06001],
			  {
			      title: "Murmansk",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Murmansk"] = marker;
  
    var marker = L.marker([68.78167,32.75082],
			  {
			      title: "Murmansk Airport",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Murmansk"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>
     <span onClick="goto_name('Kirovsk')" class="loc">Kirovsk</span> (Russian: Ки́ровск), known as <span onClick="goto_name('Khibinogorsk')" class="loc">Khibinogorsk</span> (Хибиного́рск) until 1934, is a town in <span onClick="goto_name('Murmansk Oblast')" class="loc">Murmansk Oblast</span>, <span onClick="goto_name('Russia')" class="loc">Russia</span>, located at the spurs of the <span onClick="goto_name('Khibiny')" class="loc">Khibiny</span> Mountains on the shores of the Lake Bolshoy Vudyavr, 175 kilometers (109 mi) south of <span onClick="goto_name('Murmansk')" class="loc">Murmansk</span>. Population: 28,625 (2010 Census). A settlement which eventually became <span onClick="goto_name('Kirovsk')" class="loc">Kirovsk</span> was founded in 1929, soon after an expedition led by Alexander Fersman had discovered large deposits of apatite and nepheline in the <span onClick="goto_name('Khibiny')" class="loc">Khibiny</span> Massif in the 1920s. By the end of 1930, its population grew to ten thousand people, and a mining and chemical plant here was well under construction. Due to the rapid growth, the Presidium of the Murmansk Okrug Executive Committee petitioned on January 18, 1931 to grant the settlement town status and to name it <span onClick="goto_name('Khibinogorsk')" class="loc">Khibinogorsk</span>. The petition was approved by the All-Russian Central Executive Committee Resolution on October 30, 1931 and the town was subordinated directly to the Murmansk Okrug Executive Committee. On December 15, 1934, the town was renamed <span onClick="goto_name('Kirovsk')" class="loc">Kirovsk</span> after recently assassinated Sergey Kirov, who had been in charge of planning the development of the deposits.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Kirovsk</th>
       <td best="true">
        <a onClick="goto(67.61475,33.67274)">
         <span style="white-space:nowrap">67.615,33.673</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(59.88101,30.99507)">
         <span style="white-space:nowrap">59.881,30.995</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.71051,142.71864)">
         <span style="white-space:nowrap">50.711,142.719</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(37.68887,60.39372)">
         <span style="white-space:nowrap">37.689,60.394</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.2693,29.4752)">
         <span style="white-space:nowrap">53.269,29.475</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(49.0234,37.93161)">
         <span style="white-space:nowrap">49.023,37.932</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(54.93664,73.31569)">
         <span style="white-space:nowrap">54.937,73.316</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(48.63751,38.6428)">
         <span style="white-space:nowrap">48.638,38.643</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.15278,59.61861)">
         <span style="white-space:nowrap">52.153,59.619</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.79403,48.73597)">
         <span style="white-space:nowrap">38.794,48.736</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(53.27292,29.47426)">
         <span style="white-space:nowrap">53.273,29.474</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.73889,142.64917)">
         <span style="white-space:nowrap">50.739,142.649</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Khibinogorsk</th>
       <td best="true">
        <a onClick="goto(67.61475,33.67274)">
         <span style="white-space:nowrap">67.615,33.673</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(38.79403,48.73597)">
         <span style="white-space:nowrap">38.794,48.736</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Murmansk Oblast</th>
       <td best="true">
        <a onClick="goto(68,34)">
         <span style="white-space:nowrap">68.000,34.000</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Russia</th>
       <td best="true">
        <a onClick="goto(60,100)">
         <span style="white-space:nowrap">60.000,100.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.23449,-84.40939)">
         <span style="white-space:nowrap">40.234,-84.409</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.67365,-73.78209)">
         <span style="white-space:nowrap">44.674,-73.782</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(43.25868,-75.08211)">
         <span style="white-space:nowrap">43.259,-75.082</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.63865,-73.75598)">
         <span style="white-space:nowrap">44.639,-73.756</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(41.04065,-74.53266)">
         <span style="white-space:nowrap">41.041,-74.533</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(18.21649,-78.12361)">
         <span style="white-space:nowrap">18.216,-78.124</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(56.13446,47.24201)">
         <span style="white-space:nowrap">56.134,47.242</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.53254,44.71924)">
         <span style="white-space:nowrap">40.533,44.719</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Khibiny</th>
       <td best="true">
        <a onClick="goto(67.67911,33.20993)">
         <span style="white-space:nowrap">67.679,33.210</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(67.75,33.75)">
         <span style="white-space:nowrap">67.750,33.750</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Murmansk</th>
       <td best="true">
        <a onClick="goto(68.97917,33.09251)">
         <span style="white-space:nowrap">68.979,33.093</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(68.48069,33.32276)">
         <span style="white-space:nowrap">68.481,33.323</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(68,34)">
         <span style="white-space:nowrap">68.000,34.000</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(68.97921,33.06001)">
         <span style="white-space:nowrap">68.979,33.060</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(68.78167,32.75082)">
         <span style="white-space:nowrap">68.782,32.751</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
