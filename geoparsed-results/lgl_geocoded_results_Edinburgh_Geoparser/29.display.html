<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <link crossorigin="" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet"></link>
  <script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript">

    var map;
    var markers = new Array();
    var markers_by_name = {};
    
    var green_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    var red_icon = new L.Icon({
	iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
	shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
    });

    function load() {

        map = L.map('map');
    
    
	map.setView([42.03336,-88.08341], 8);
      

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
	
	  attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',
	
	    tileSize: 512,
	    maxZoom: 18,
	    zoomOffset: -1,
	    id: 'mapbox/streets-v11',
	    accessToken: 'unset'
	}).addTo(map);
	    
	
    var marker = L.marker([42.03336,-88.08341],
			  {
			      title: "Schaumburg",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Schaumburg"] = marker;
  
    var marker = L.marker([50.33915,7.97907],
			  {
			      title: "Schaumburg",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Schaumburg"] = marker;
  
    var marker = L.marker([52.20072,9.19496],
			  {
			      title: "Schaumburg",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Schaumburg"] = marker;
  
    var marker = L.marker([52.31528,9.19972],
			  {
			      title: "Landkreis Schaumburg",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Schaumburg"] = marker;
  
    var marker = L.marker([50.4,10.98333],
			  {
			      title: "Schaumburg",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Schaumburg"] = marker;
  
    var marker = L.marker([30.0195,-89.9756],
			  {
			      title: "H C Schaumburg Elementary School",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Schaumburg"] = marker;
  
    var marker = L.marker([48.58032,12.25767],
			  {
			      title: "Schaumburg",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Schaumburg"] = marker;
  
    var marker = L.marker([42.12753,-87.82895],
			  {
			      title: "Northbrook",
			      icon: 1 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 1 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(1 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([39.95866,-91.3757],
			  {
			      title: "Northbrook",
			      icon: 2 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 2 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(2 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([40.0534,-84.18502],
			  {
			      title: "Northbrook",
			      icon: 3 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 3 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(3 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([39.24645,-84.58356],
			  {
			      title: "Northbrook",
			      icon: 4 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 4 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(4 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([29.6589,-95.5054],
			  {
			      title: "Northbrook",
			      icon: 5 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 5 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(5 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([51.15252,-1.27202],
			  {
			      title: "Northbrook",
			      icon: 6 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 6 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(6 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([36.04869,-83.98158],
			  {
			      title: "Northbrook",
			      icon: 7 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 7 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(7 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([39.60705,-76.87609],
			  {
			      title: "Northbrook",
			      icon: 8 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 8 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(8 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([39.92039,-75.68883],
			  {
			      title: "Northbrook",
			      icon: 9 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 9 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(9 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([-27.35,152.6],
			  {
			      title: "Northbrook",
			      icon: 10 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 10 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(10 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([44.73342,-77.16615],
			  {
			      title: "Northbrook",
			      icon: 11 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 11 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(11 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([79.96196,51.01728],
			  {
			      title: "Ostrov Nortbruk",
			      icon: 12 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 12 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(12 == 1)
    markers_by_name["Northbrook"] = marker;
  
    var marker = L.marker([-33.41684,116.7212],
			  {
			      title: "Northbrook",
			      icon: 13 == 1 ? green_icon : red_icon,
    
			      zIndexOffset: 1000 - 13 * 20
			  });
    marker.addTo(map);
    markers.push(marker);
    if(13 == 1)
    markers_by_name["Northbrook"] = marker;
  

	adjust_locations(markers);
    }

    function goto(x, y) {
	map.flyTo([x,y]);
    }

    function goto_name(name) {
        if(markers_by_name.hasOwnProperty(name))
    	    map.flyTo(markers_by_name[name].getLatLng());
    }

    function show_info(name) {
	var para = document.getElementById("message").firstChild;
	para.nodeValue = name;
    }

    
//<![CDATA[

// adjust the locations of identically-positioned candidates so they are
// distinguishable on the map.

function adjust_locations(markers)
{
    markers.sort(compare_locations);

    var dups = new Array();

    var lastlat = 99999, lastlng = 9999;
    for(var i=0; i < markers.length; i++)
    {
        var l = markers[i].getLatLng();
        if(l.lat == lastlat && l.lng == lastlng)
        {
//            alert("match: " + l.lat + "," + l.lng + " = " + lastlat + ","  + lastlng);
            dups.push(markers[i]);
        }
        else
        {
            if(dups.length > 1)
                spread(dups);
            dups.length = 0;
            dups.push(markers[i]);
        }
        lastlat = l.lat;
        lastlng = l.lng;
    }
    if(dups.length > 1)
        spread(dups);
}

// spread an array of identically-positioned markers into a 0.005 degree circle

function spread(dups)
{
    var latlng = dups[0].getLatLng();
    var lat = latlng.lat, lng = latlng.lng;
//    alert("Spreading " + dups.length + " markers from " + lat + "," + lng);
    for(var i=0; i < dups.length; i++)
    {
        var newlatlng = new L.LatLng(
            lat + Math.sin((2 * 3.14159 * i) / dups.length) * 0.005,
            lng + Math.cos((2 * 3.14159 * i) / dups.length) * 0.005);
        dups[i].setLatLng(newlatlng);
//        alert(lat + " -> " + newlatlng.lat + "   " + lng + " -> " + newlatlng.lng);
    }
}

// comparison function for sorting

function compare_locations(m1, m2)
{
    var l1 = m1.getLatLng(), l2 = m2.getLatLng();
    if(l1.lat == l2.lat)
        return l1.lng - l2.lng;
    else
        return l1.lat - l2.lat;
}
//]]>
      </script>
  <style>
	#map   {width: 100%; height: 500px}
        #text  {width: 50%; float: left; background-color: #BBCCAA; margin: 20px;}
        #list  {margin-left: 50%; overflow: scroll;}
        .loc   {background-color: #E0FFE8;}
	table  {border-collapse: collapse; empty-cells: show;}
	tr     {border: 1px solid black;}
	th,td  {padding:  3px;}
	td[best="true"]  {color: green;}
	td[best="false"] {color: red;}
      </style>
 </head>
 <body onload="load()">
  <div onload="load()" id="map"></div>
  <div id="lower">
   <div id="text">
<p>Stores a sign of better times in <span onClick="goto_name('Schaumburg')" class="loc">Schaumburg</span>? . Could new Whole Foods and Crate &amp; Barrel stores in <span onClick="goto_name('Schaumburg')" class="loc">Schaumburg</span> be the first green shoots to spring up from the economy's winter-frozen soil? Schaumburg trustees Tuesday approved a site plan for a 34,000-square-foot Crate &amp; Barrel store at the intersection of Woodfield and Martingale roads. It joins an already approved 65,000-square-foot Whole Foods on the former site of the John M. Smyth Homemakers building razed last summer. Community Development Director Christopher Huff said the Whole Foods is expected to begin above-ground construction this spring, with the Crate &amp; Barrel next door to begin shortly after. Both are expected to open in the late spring or early summer of 2010. Though both projects have been in the pipeline for a few years, their going forward at this point is seen as a very significant step. "To me, it's the first sign of a recovery of some sort, because they didn't pull the plug on them," Huff said. The twin projects' importance is not lost on the village department whose task it is to track economic growth - or its relative absence recently. "It's a pretty big deal because we're down about two-thirds from what we were at a year and a few months ago," Huff said. "We're happy to see any new development," Senior Planner Tom Farace agreed. As actions speak louder than words, the two companies are demonstrating a belief in the bright future of their location just south of <span onClick="goto_name('Woodfield Shopping')" class="loc">Woodfield Shopping</span> Center and west of the Streets of Woodfield, Huff said. Elected officials also saw a ray of sunshine in the projects. "I think they see the same light at the end of the tunnel that I do," Mayor Al Larson said of the renewed show of confidence from these two businesses. Corporate officials for <span onClick="goto_name('Northbrook')" class="loc">Northbrook</span>-based Crate &amp; Barrel couldn't be reached for comment Tuesday. But last summer they said they've had a policy of moving their houseware stores from malls to larger, separate lots in order to sell furniture as well. The company has had a store at Woodfield since 1979.</p>
</div>
   <div id="list">
    <div id="instr">
     <p>
            Click on a lat/long to centre the map there.
	  </p>
    </div>
    <div id="table">
     <table>
      <tr>
       <th>Schaumburg</th>
       <td best="true">
        <a onClick="goto(42.03336,-88.08341)">
         <span style="white-space:nowrap">42.033,-88.083</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.33915,7.97907)">
         <span style="white-space:nowrap">50.339,7.979</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.20072,9.19496)">
         <span style="white-space:nowrap">52.201,9.195</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(52.31528,9.19972)">
         <span style="white-space:nowrap">52.315,9.200</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(50.4,10.98333)">
         <span style="white-space:nowrap">50.400,10.983</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(30.0195,-89.9756)">
         <span style="white-space:nowrap">30.020,-89.976</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(48.58032,12.25767)">
         <span style="white-space:nowrap">48.580,12.258</span>
        </a>
       </td>
      </tr>
      <tr>
       <th>Woodfield Shopping</th>
      </tr>
      <tr>
       <th>Northbrook</th>
       <td best="true">
        <a onClick="goto(42.12753,-87.82895)">
         <span style="white-space:nowrap">42.128,-87.829</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.95866,-91.3757)">
         <span style="white-space:nowrap">39.959,-91.376</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(40.0534,-84.18502)">
         <span style="white-space:nowrap">40.053,-84.185</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.24645,-84.58356)">
         <span style="white-space:nowrap">39.246,-84.584</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(29.6589,-95.5054)">
         <span style="white-space:nowrap">29.659,-95.505</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(51.15252,-1.27202)">
         <span style="white-space:nowrap">51.153,-1.272</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(36.04869,-83.98158)">
         <span style="white-space:nowrap">36.049,-83.982</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.60705,-76.87609)">
         <span style="white-space:nowrap">39.607,-76.876</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(39.92039,-75.68883)">
         <span style="white-space:nowrap">39.920,-75.689</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-27.35,152.6)">
         <span style="white-space:nowrap">-27.350,152.600</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(44.73342,-77.16615)">
         <span style="white-space:nowrap">44.733,-77.166</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(79.96196,51.01728)">
         <span style="white-space:nowrap">79.962,51.017</span>
        </a>
       </td>
       <td best="false">
        <a onClick="goto(-33.41684,116.7212)">
         <span style="white-space:nowrap">-33.417,116.721</span>
        </a>
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </body>
</html>
